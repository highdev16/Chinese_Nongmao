(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d1602a8"],{1199:function(t,e,n){"use strict";var o=n("5665"),i=n.n(o);i.a},"12b0":function(t,e,n){},"189a":function(t,e,n){"use strict";var o=n("dc68"),i=n.n(o);i.a},"2e07":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-image",{staticClass:"diy-img",attrs:{src:t.src,fit:t.fit}},[o("div",{attrs:{slot:"error"},slot:"error"},[o("div",{staticClass:"img-error"},[o("div",{staticClass:"error-box"},[""===t.errorText?o("p",[o("img",{staticClass:"img",attrs:{src:n("5292")}})]):t._e(),""===t.errorText?o("p",[t._v(t._s(t.$L("加载失败")))]):t._e(),""!==t.errorText?o("p",[t._v(t._s(t.errorText))]):t._e()])])])])},i=[],s={name:"diyImage",props:{fit:{type:String,default:"cover"},src:{type:String,default:""},errorText:{type:String,default:""}}},r=s,a=(n("71bc"),n("4023")),l=Object(a["a"])(r,o,i,!1,null,"79b99430",null);e["a"]=l.exports},"2e1d":function(t,e,n){"use strict";var o=n("c882"),i=n.n(o);i.a},"40b3":function(t,e,n){"use strict";var o=n("5c17"),i=n.n(o);i.a},5292:function(t,e,n){t.exports=n.p+"img/load_error.e3742f18.png"},5665:function(t,e,n){},"5c17":function(t,e,n){},"71bc":function(t,e,n){"use strict";var o=n("12b0"),i=n.n(o);i.a},bc24:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main-box"},[!t.loading&&t.showTop?n("top-view",{staticClass:"top"}):t._e(),t.loading?t._e():n("div",{staticClass:"main",class:{showTop:t.showTop}},[n("div",{staticClass:"center",style:t.showBottom?t.centerStyle:""},[n("vue-scroll",[n("router-view")],1)],1),t.showBottom&&t.bottomView?n(t.bottomView,{tag:"component",attrs:{"bottom-menu":t.mobileConfig}}):t._e()],1)],1)},i=[],s=(n("cc57"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top-view"},[n("div",{staticClass:"left-btn",on:{click:t.goBack}},[n("i",{staticClass:"el-icon-arrow-left"})]),n("span",{staticClass:"title"},[t._v(t._s(t.mobileTitle))]),t.mobileTopBtn&&t.mobileTopBtn.length>0?n("div",{staticClass:"right-btn-list"},t._l(t.mobileTopBtn,(function(e){return n("div",{staticClass:"right-btn-item",on:{click:function(t){"function"===typeof e.func&&e.func()}}},[e.hasOwnProperty("icon")?n("span",{staticClass:"bbx-font",class:e.icon,style:{"font-size":e.hasOwnProperty("size")?e.size:""}}):t._e(),e.hasOwnProperty("text")?n("span",{staticClass:"show-txt mainFontColor",style:{"font-size":e.hasOwnProperty("size")?e.size:""}},[t._v(t._s(e.text))]):t._e()])})),0):t._e()])}),r=[],a={name:"topView",computed:{mobileTitle:{get:function(){return this.$store.state.mobileTitle},set:function(t){this.$store.commit("setMobileTitle",t)}},mobileTopBtn:{get:function(){return this.$store.state.mobileTopBtn},set:function(t){this.$store.commit("setMobileTopBtn",t)}}},methods:{goBack:function(){"cart"===this.$route.name?this.$router.go(-1):this.$in_array(this.$route.name,["distributorListMobile","distributorOrderMobile","distributorUserOrderMobile","distributorWithdrawalMobile","distributorRankingMobile","applyWithdrawalMobile","distributorSettingsMobile","promotionSettingsMobile","distributorMemberMobile","memberOrderMobile","distributorModifyMobile"])?this.$router.push({name:"distributorMain"}):this.$in_array(this.$route.name,["distributorDetailsMobile"])?this.$router.push({name:"distributorListMobile"}):this.$in_array(this.$route.name,["distributorEditModifyMobile"])?this.$router.push({name:"distributorModifyMobile"}):this.$in_array(this.$route.name,["promotionSettingsChooseMobile","promotionSettingsEditMobile"])?this.$router.push({name:"promotionSettingsMobile"}):this.$in_array(this.$route.name,["agentListMobile","agentOrderMobile","agentUserOrderMobile","agentWithdrawalMobile","agentRankingMobile","agentApplyWithdrawalMobile","agentSettingsMobile","agentAromotionSettingsMobile"])?this.$router.push({name:"agentMains"}):this.$in_array(this.$route.name,["agentPromotionSettingsChooseMobile","agentPromotionSettingsEditMobile"])?this.$router.push({name:"agentPromotionSettingsMobile"}):this.$in_array(this.$route.name,["activeCard","detailsMobile","recordMobile"])?this.$router.push({name:"userCardMobile"}):this.$in_array(this.$route.name,["payCharge"])?this.$router.push({name:"payRecord"}):this.$in_array(this.$route.name,["messageInfo"])?this.$router.push({name:"messageList"}):this.$in_array(this.$route.name,["orderInfo","orderService","orderServiceInfo","orderComment","checkComment"])?this.$router.push({name:"orderList",params:{type:"all"}}):this.$router.push({name:"home"})}}},l=a,c=(n("40b3"),n("4023")),h=Object(c["a"])(l,s,r,!1,null,"8af89c6c",null),u=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.mobileConfig&&t.mobileConfig.hasOwnProperty("menuList")&&t.mobileConfig.menuList.length>0?n("div",{staticClass:"bottom-line",style:t.bottomStyle},t._l(t.mobileConfig.menuList,(function(e,o){return n("div",{staticClass:"bottom-item",class:{icon:t.showIcon&&!t.showTxt,txt:!t.showIcon&&t.showTxt},style:{width:100/t.mobileConfig.menuList.length+"%",color:"shopCart"===e.linkType&&"cart"===t.$route.name||"userCenter"===e.linkType&&"home"===t.$route.name?t.selectFontColor:""},on:{click:function(n){return t.clickItem(e,o)}}},[t.showIcon?n("diy-image",{staticClass:"item-icon",attrs:{fit:"scale-down",src:"shopCart"===e.linkType&&"cart"===t.$route.name||"userCenter"===e.linkType&&"home"===t.$route.name?e.selectIcon:e.icon}}):t._e(),t.showTxt?n("div",{staticClass:"item-text"},[n("span",{staticClass:"item-text-val"},[t._v(t._s(t.$L(e.text)))])]):t._e(),"menu"===e.linkType&&e.hasOwnProperty("linkVal")?n("div",{staticClass:"menu-children",class:{active:o===t.nowSelectMenu}},t._l(e.linkVal,(function(e,o){return n("div",{staticClass:"children-item",on:{click:function(n){return t.clickItem(e,o)}}},[t._v(t._s(e.text))])})),0):t._e()],1)})),0):t._e()},m=[],y=n("2e07"),f={name:"bottomLine",components:{DiyImage:y["a"]},props:{bottomMenu:{type:Object,default:function(){return{}}}},data:function(){var t=this.bottomMenu,e="",n="",o=!0,i=!0;if(t){t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("styleType")&&(2==t.styleSettings.styleType?(o=!1,i=!0):3==t.styleSettings.styleType?(o=!0,i=!1):(o=!0,i=!0)),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("height")&&""!==t.styleSettings.height&&(e+="height:"+t.styleSettings.height+";top:calc(100% - "+t.styleSettings.height+");"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("backgroundColor")&&""!==t.styleSettings.backgroundColor&&(e+="background-color:"+t.styleSettings.backgroundColor+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontFamily")&&""!==t.styleSettings.fontFamily&&(e+="font-family:"+t.styleSettings.fontFamily+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontSize")&&""!==t.styleSettings.fontSize&&(e+="font-size:"+t.styleSettings.fontSize+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontWeight")&&!0===t.styleSettings.fontWeight&&(e+="font-weight:600;"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontStyle")&&!0===t.styleSettings.fontStyle&&(e+="font-style:italic;");var s="";t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontUnderline")&&!0===t.styleSettings.fontUnderline&&(s+=" underline "),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontLineThrough")&&!0===t.styleSettings.fontLineThrough&&(s+=" line-through "),""!==s&&(e+="text-decoration:"+s+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("selectFontColor")&&""!==t.styleSettings.selectFontColor&&(n=t.styleSettings.selectFontColor)}return{mobileConfig:t,bottomStyle:e,selectFontColor:n,nowSelectMenu:null,showIcon:o,showTxt:i}},methods:{clickItem:function(t,e){if(t&&t.hasOwnProperty("linkType"))switch(t.linkType){case"userCenter":this.$router.push({name:"home"});break;case"shopCart":this.$router.push({name:"cart"});break;case"home":this.$gotoWebHome();break;case"sms":t.hasOwnProperty("linkVal")&&""!==t.linkVal&&(window.location.href="sms:"+t.linkVal);break;case"phone":t.hasOwnProperty("linkVal")&&""!==t.linkVal&&(window.location.href="tel:"+t.linkVal);break;case"link":t.hasOwnProperty("linkVal")&&""!==t.linkVal&&(window.top.location.href=t.linkVal);break;case"menu":e===this.nowSelectMenu?this.nowSelectMenu=null:this.nowSelectMenu=e;break}}}},p=f,b=(n("2e1d"),Object(c["a"])(p,g,m,!1,null,"8a9d2cbe",null)),d=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-button",class:{left:"left"===t.bottomType}},[n("div",{staticClass:"main-button",style:t.bottomStyle,on:{click:t.changeMenuOpen}},[n("div",{staticClass:"main-icon",class:{active:t.openMenu}},[n("i",{staticClass:"el-icon-plus"})])]),n("div",{staticClass:"item-box",class:{active:t.openMenu}},t._l(t.mobileConfig.menuList,(function(e){return n("div",{staticClass:"menu-item",style:t.itemStyle,on:{click:function(n){return t.clickItem(e)}}},[n("diy-image",{staticClass:"menu-icon",attrs:{src:"shopCart"===e.linkType&&"cart"===t.$route.name||"userCenter"===e.linkType&&"home"===t.$route.name?e.selectIcon:e.icon}}),n("div",{staticClass:"menu-txt",style:{color:"shopCart"===e.linkType&&"cart"===t.$route.name||"userCenter"===e.linkType&&"home"===t.$route.name?t.selectFontColor:""}},[t._v(t._s(t.$L(e.text)))])],1)})),0)])},S=[],$={name:"bottomButton",components:{DiyImage:y["a"]},props:{bottomMenu:{type:Object,default:function(){return{}}}},data:function(){var t=this.bottomMenu,e="",n="left",o="",i="";if(t){t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("backgroundColor")&&""!==t.styleSettings.backgroundColor&&(o+="background-color:"+t.styleSettings.backgroundColor+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontFamily")&&""!==t.styleSettings.fontFamily&&(o+="font-family:"+t.styleSettings.fontFamily+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontSize")&&""!==t.styleSettings.fontSize&&(o+="font-size:"+t.styleSettings.fontSize+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontWeight")&&!0===t.styleSettings.fontWeight&&(o+="font-weight:600;"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontStyle")&&!0===t.styleSettings.fontStyle&&(o+="font-style:italic;");var s="";t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontUnderline")&&!0===t.styleSettings.fontUnderline&&(s+=" underline "),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("fontLineThrough")&&!0===t.styleSettings.fontLineThrough&&(s+=" line-through "),""!==s&&(o+="text-decoration:"+s+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("selectFontColor")&&""!==t.styleSettings.selectFontColor&&(i=t.styleSettings.selectFontColor),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("buttonColor")&&""!==t.styleSettings.buttonColor&&(e+="background-color:"+t.styleSettings.buttonColor+";"),t.hasOwnProperty("styleSettings")&&t.styleSettings.hasOwnProperty("buttonPosition")&&"left"!==t.styleSettings.buttonPosition&&(n="right")}return{mobileConfig:t,bottomStyle:e,bottomType:n,itemStyle:o,selectFontColor:i,openMenu:!1}},methods:{changeMenuOpen:function(){this.openMenu?this.openMenu=!1:this.openMenu=!0},clickItem:function(t){if(t&&t.hasOwnProperty("linkType"))switch(this.changeMenuOpen(),t.linkType){case"userCenter":this.$router.push({name:"home"});break;case"shopCart":this.$router.push({name:"cart"});break;case"home":this.$gotoWebHome();break;case"sms":t.hasOwnProperty("linkVal")&&""!==t.linkVal&&(window.location.href="sms:"+t.linkVal);break;case"phone":t.hasOwnProperty("linkVal")&&""!==t.linkVal&&(window.location.href="tel:"+t.linkVal);break;case"link":t.hasOwnProperty("linkVal")&&""!==t.linkVal&&(window.top.location.href=t.linkVal);break}}}},C=$,O=(n("189a"),Object(c["a"])(C,w,S,!1,null,"17888b5c",null)),k=O.exports,P={name:"mainBox",components:{topView:u},data:function(){return{heartbeatTime:1e4,heartbeatObj:null,loading:!0,mobileConfig:{},bottomView:null,centerStyle:{}}},created:function(){if(this.$route.query.hasOwnProperty("lang")){var t=this.$route.query.lang;t=parseInt(t),isNaN(t)||this.$lang("lang_"+t)}this.getLoginConfig()},provide:function(){return{cleanHeartbeat:this.cleanHeartbeat}},beforeRouteEnter:function(t,e,n){n((function(e){e.setSeo(t.name)}))},beforeRouteUpdate:function(t,e,n){this.setSeo(t.name),n()},computed:{showTop:{get:function(){return"home"!==this.$route.name&&"login"!==this.$route.name}},showBottom:{get:function(){return"home"===this.$route.name||"cart"===this.$route.name}},menuClose:{get:function(){return this.$store.state.loginConfig.hasOwnProperty("settings")&&this.$store.state.loginConfig.settings.hasOwnProperty("menu")&&this.$store.state.loginConfig.settings.menu.hasOwnProperty("close")?this.$store.state.loginConfig.settings.menu.close:[]}},cartNum:{get:function(){return this.$store.state.heartbeatData.hasOwnProperty("cartNum")?this.$store.state.heartbeatData.cartNum:0},set:function(t){this.$store.commit("setHeartbeatData",{cartNum:t})}},mobileTitle:{get:function(){return this.$store.state.mobileTitle},set:function(t){this.$store.commit("setMobileTitle",t)}},seoTitle:{get:function(){return this.$store.state.seoTitle},set:function(t){this.$store.commit("changeSeo",{seoTitle:t})}}},methods:{setSeo:function(t){if(this.loading)return!1;t||(t=this.$route.name);var e=this.$C("menuList"),n=this.$L("会员中心"),o=null;for(var i in e)if(e[i]&&e[i].hasOwnProperty("showRouter")&&this.$in_array(t,e[i].showRouter)&&e[i].hasOwnProperty("name")){this.mobileTitle=this.$L(e[i].name),n=this.$L(e[i].name)+" - "+n,o=e[i].id;break}"cart"===t?(this.mobileTitle=this.$L("购物车"),n=this.mobileTitle+" - "+n):(null===o||this.$in_array(o,this.menuClose))&&this.$router.push({name:"home"});var s=this.$C("webName");s&&""!==s&&(n=""===n?this.$L(s):n+" - "+this.$L(s)),this.seoTitle=n},setupConfig:function(){var t=this;t.$api("getBottomMenu",{},(function(e){if(1===e.flag){var n=[],o=null,i="";if(e.data.hasOwnProperty("mobileConfig")&&(n=e.data.mobileConfig,n&&n.hasOwnProperty("styleSettings")&&n.styleSettings.hasOwnProperty("styleType")))if(4===n.styleSettings.styleType)o=k,i="height:100%";else{o=d;var s="50px";n.styleSettings.hasOwnProperty("height")&&""!==n.styleSettings.height&&(s=n.styleSettings.height),i="height:calc(100% - "+s+")"}t.mobileConfig=n,t.bottomView=o,t.centerStyle=i,t.loading=!1,t.setSeo(),t.heartbeat()}else-1===e.flag?t.$router.push({name:"login",query:{redirect:t.$route.fullPath}}):t.$alert(t.$L("服务器无响应"),t.$L("网络请求失败"),{confirmButtonText:t.$L("点击重试"),type:"error",showClose:!1}).then((function(){t.getLoginConfig(!0)}))}),(function(e){console.log(e),t.$alert(t.$L("服务器无响应"),t.$L("网络请求失败"),{confirmButtonText:t.$L("点击重试"),type:"error",showClose:!1}).then((function(){t.getLoginConfig()}))}))},getLoginConfig:function(){var t=this;t.$api("getLoginConfig",{},(function(e){1===e.flag?(e.data.hasOwnProperty("webConfig")&&(t.$store.commit("setServerConfig",{systemConfig:e.data.webConfig}),delete e.data.webConfig),t.$store.commit("setLoginConfig",e.data),t.setupConfig()):-1===e.flag?t.$router.push({name:"login",query:{redirect:t.$route.fullPath}}):t.$alert(t.$L("服务器无响应"),t.$L("网络请求失败"),{confirmButtonText:t.$L("点击重试"),type:"error",showClose:!1}).then((function(){t.getLoginConfig(!0)}))}),(function(e){console.log(e),t.$alert(t.$L("服务器无响应"),t.$L("网络请求失败"),{confirmButtonText:t.$L("点击重试"),type:"error",showClose:!1}).then((function(){t.getLoginConfig()}))}))},heartbeat:function(){var t=this;t.cleanHeartbeat();var e=localStorage.getItem("VueUserCenterTruePublish");t.$api("heartbeat",{router:t.$route.name,version:t.$C("version"),versionNum:t.$C("versionNum"),publish:e&&"true"===e?1:0},(function(e){1===e.flag?(e.data.hasOwnProperty("cartNum")&&(t.cartNum=e.data.cartNum),t.heartbeatObj=setTimeout((function(){t.heartbeat()}),t.heartbeatTime)):-1===e.flag?t.$router.push({name:"login",query:{redirect:t.$route.fullPath}}):(console.log("心跳失败",(new Date).toLocaleTimeString()),console.log(e),t.heartbeatObj=setTimeout((function(){t.heartbeat()}),t.heartbeatTime))}),(function(e){console.log("心跳失败",(new Date).toLocaleTimeString()),console.log(e),t.heartbeatObj=setTimeout((function(){t.heartbeat()}),t.heartbeatTime)}),!1)},cleanHeartbeat:function(){this.heartbeatObj&&clearTimeout(this.heartbeatObj)}},beforeDestroy:function(){this.cleanHeartbeat()}},v=P,T=(n("1199"),Object(c["a"])(v,o,i,!1,null,"00b28a00",null));e["default"]=T.exports},c882:function(t,e,n){},dc68:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6d1602a8.f1d32e35.js.map