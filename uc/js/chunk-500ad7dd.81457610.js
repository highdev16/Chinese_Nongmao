(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-500ad7dd"],{"1cdf":function(t,e,a){"use strict";var r=a("698e"),n=a.n(r);n.a},4551:function(t,e,a){},"698e":function(t,e,a){},d0d3:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tableData?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"serviceInfo"},[a("div",{staticClass:"serviceInfo-content"},[a("div",{staticClass:"box product-info"},[t._l(t.tableData.getProductInfo,(function(e,r){return a("div",{key:r,staticClass:"info"},[a("div",{staticClass:"list-main-left"},[a("img",{attrs:{src:e.smallImg,alt:""}})]),a("div",{staticClass:"list-main-right"},[a("p",{staticClass:"orderInfo"},[t._v(t._s(e.chrName))]),a("p",{staticClass:"gray"},[t._v(t._s(e.goodsSpec))]),a("p",{staticClass:"gray"},[t._v("×"+t._s(e.goodsNumber))])])])})),a("div",{staticClass:"detail"},[a("p",[a("span",[t._v(t._s(t.$L("退款金额"))+"：")]),a("b",{staticClass:"red"},[t._v(t._s(t.tableData.refundAmount))])]),a("p",[a("span",[t._v(t._s(t.$L("退款原因"))+"：")]),a("span",{staticClass:"text"},[t._v(t._s(t.tableData.busMess))])]),a("p",[a("span",[t._v(t._s(t.$L("退款附图"))+"：")]),t._l(t.tableData.pic,(function(t){return a("img",{staticClass:"img",attrs:{src:t,alt:""}})}))],2),a("p",[a("span",[t._v(t._s(t.$L("商家回复"))+"：")]),a("span",{staticClass:"text"},[t._v(t._s(t.tableData.refundResult))])])])],2),a("div",{staticClass:"service-order"},[a("div",{staticClass:"title"},[t._v(t._s(t.$L("服务单详情")))]),a("el-timeline",t._l(t.activities,(function(e,r){return a("el-timeline-item",{key:r,attrs:{timestamp:e.date,type:e.type,color:e.color,size:e.size}},[t._v("\n                    "+t._s(e.logInfo)+"\n                ")])})),1)],1),2===t.tableData.refundStatus?a("el-form",{ref:"form",staticClass:"box logistics-info",attrs:{model:t.form,rules:t.applyRules}},[a("div",{staticClass:"title"},[t._v(t._s(t.$L("填写物流信息")))]),a("el-form-item",{attrs:{prop:"company"}},[a("el-input",{attrs:{size:"small",placeholder:t.$L("请填写物流公司名称")},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),a("el-form-item",{attrs:{prop:"number"}},[a("el-input",{attrs:{size:"small",placeholder:t.$L("请填写物流单号")},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1)],1):t._e(),2===t.tableData.refundStatus?a("el-button",{attrs:{type:"primary"},on:{click:t.submitFunc}},[t._v(t._s(t.$L("确认")))]):t._e(),5===t.tableData.refundStatus?a("el-button",{attrs:{type:"primary"},on:{click:t.submitTwoFunc}},[t._v(t._s(t.$L("再次申请")))]):t._e()],1)]):t._e()},n=[],i={name:"orderServiceInfo",data:function(){return{loading:!0,errorType:"error",errorTitle:this.$L("出错了"),errorTips:null,errorShow:!1,form:{company:"",number:""},applyRules:{number:[{validator:function(t,e,a){if(e=parseInt(e),isNaN(e))a(new Error("请选输入正确的物流单号"));else{var r=/^[0-9a-zA-Z]{15,}$/;if(!r.test(e))return a(new Error("物流单号有误"));a()}}}]},activities:[],tableData:{}}},created:function(){this.getData()},methods:{showError:function(t,e,a){this.errorType="warning"===a?"warning":"error",this.errorTitle=t&&""!==t?t:this.$L("出错了"),this.errorTips=e&&""!==e?e:null,this.loading=!1,this.errorShow=!0},backFunc:function(){this.$router.back(-1)},getData:function(){var t=this;t.loading=!0;var e=t.$route.params.id;t.$api("afterSaleDetail",{orderId:e},(function(e){if(1===e.flag){t.tableData=e.data.refundOrderInfo,t.activities=e.data.refundLog;for(var a=0;a<t.activities.length;a++)t.activities[a].type="primary";t.loading=!1}else-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}),(function(e){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}))},submitFunc:function(){var t=this;if(t.loading=!0,""!==t.form.company&&""!==t.form.number){var e=t.tableData.refundId,a={refundId:e,deliveryName:t.form.company,deliveryNum:t.form.number};t.$api("addRefundDelivery",a,(function(e){1===e.flag?(t.getData(),t.$message({type:"success",message:t.$L("提交成功!")}),t.loading=!1):-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}),(function(e){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}))}else t.$message({type:"error",message:t.$L("物流公司或物流单号不存在!")}),t.loading=!1},submitTwoFunc:function(){this.$router.push({name:"orderService",params:{id:this.$route.params.id}})}}},s=i,o=(a("1cdf"),a("e1b1"),a("4023")),c=Object(o["a"])(s,r,n,!1,null,"0b2c75f6",null);e["default"]=c.exports},e1b1:function(t,e,a){"use strict";var r=a("4551"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-500ad7dd.81457610.js.map