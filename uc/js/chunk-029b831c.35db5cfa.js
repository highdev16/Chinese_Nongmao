(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-029b831c"],{"0cd3":function(t,e,a){},"1cc7":function(t,e,a){"use strict";var s=a("0cd3"),n=a.n(s);n.a},"2b47":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tableData?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"serviceInfo"},[a("div",{staticClass:"serviceInfo-content"},[a("el-steps",{staticClass:"box steps",attrs:{active:t.tableData.refundStatus,"finish-status":"success",simple:""}},[a("el-step",{attrs:{title:t.$L("提交申请")}}),a("el-step",{attrs:{title:t.$L("卖家审核")}}),a("el-step",{attrs:{title:t.$L("填写物料单号")}}),a("el-step",{attrs:{title:t.$L("卖家收货并同意收货")}})],1),a("div",{staticClass:"box product-info"},[a("div",{staticClass:"title"},[t._v("\n                "+t._s(t.$L("填写物流信息"))+"\n                "),a("span",[t._v(t._s(t.$L("申请时间"))+"："+t._s(t.tableData.applyTime))]),a("span",[t._v(t._s(t.$L("订单号"))+"："+t._s(t.tableData.orderSn))]),a("span",[t._v(t._s(t.$L("退单号"))+"："+t._s(t.tableData.refundSn))])]),a("p",{staticStyle:{"padding-left":"20px","padding-bottom":"20px","font-size":"14px"}},[t._v(t._s(t.$L("退款商品")))]),t._l(t.tableData.getProductInfo,(function(e,s){return a("div",{key:s,staticClass:"info"},[a("div",{staticClass:"list-main-left"},[a("img",{attrs:{src:e.smallImg,alt:""}})]),a("div",{staticClass:"list-main-right"},[a("p",{staticClass:"orderInfo"},[t._v(t._s(e.chrName))]),a("p",{staticClass:"gray"},[t._v(t._s(e.goodsSpec))]),a("p",{staticClass:"gray"},[t._v("×"+t._s(e.goodsNumber))])])])})),a("table",{staticClass:"detail"},[a("tr",[a("td",[t._v(t._s(t.$L("退款金额"))+"：")]),a("td",[a("b",{staticClass:"red"},[t._v(t._s(t.tableData.refundAmount))]),a("span",[t._v(t._s(t.$L("会员账号"))+"："+t._s(t.tableData.username))]),a("span",[t._v(t._s(t.$L("买家电话"))+"："+t._s(t.tableData.mobile))])])]),a("tr",[a("td",[t._v(t._s(t.$L("退款原因"))+"：")]),a("td",[t._v("\n                        "+t._s(t.tableData.refundResult)+"\n\n                    ")])]),a("tr",[a("td",[t._v(t._s(t.$L("退款附图"))+"：")]),a("td",t._l(t.tableData.pic,(function(t){return a("img",{staticClass:"img",attrs:{src:t,alt:""}})})),0)]),a("tr",[a("td",[t._v(t._s(t.$L("商家回复"))+"：")]),a("td",[t._v("\n                        "+t._s(t.tableData.busMess)+"\n                    ")])])])],2),a("div",{staticClass:"title"},[t._v(t._s(t.$L("服务单详情")))]),a("el-timeline",t._l(t.activities,(function(e,s){return a("el-timeline-item",{key:s,attrs:{timestamp:e.date,type:e.type,color:e.color,size:e.size}},[t._v("\n                    "+t._s(e.logInfo)+"\n                ")])})),1),2===t.tableData.refundStatus?a("el-form",{ref:"form",staticClass:"box logistics-info",attrs:{model:t.form,rules:t.applyRules}},[a("div",{staticClass:"title"},[t._v(t._s(t.$L("填写物流信息")))]),a("el-form-item",{attrs:{prop:"company"}},[a("span",[t._v(t._s(t.$L("物流公司"))+"："),a("el-input",{attrs:{size:"small"},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1)]),a("el-form-item",{attrs:{prop:"number"}},[a("span",[t._v(t._s(t.$L("物流单号"))+"："),a("el-input",{attrs:{size:"small"},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1)])],1):t._e(),a("div",{staticClass:"btns"},[a("el-button",{on:{click:t.backFunc}},[t._v(t._s(t.$L("返回")))]),2===t.tableData.refundStatus?a("el-button",{attrs:{type:"primary"},on:{click:t.submitFunc}},[t._v(t._s(t.$L("申请提交")))]):t._e(),5===t.tableData.refundStatus?a("el-button",{attrs:{type:"primary"},on:{click:t.submitTwoFunc}},[t._v(t._s(t.$L("再次申请")))]):t._e()],1)],1)]):t._e()},n=[],r={name:"orderServiceInfo",data:function(){var t=this;return{loading:!0,errorType:"error",errorTitle:this.$L("出错了"),errorTips:null,errorShow:!1,form:{company:"",number:""},applyRules:{number:[{validator:function(e,a,s){if(a=parseInt(a),isNaN(a))s(new Error(t.$L("请选输入正确的物流单号")));else{var n=/^[0-9a-zA-Z]{15,}$/;if(!n.test(a))return s(new Error(t.$L("物流单号有误")));s()}}}]},activities:[],tableData:{}}},created:function(){this.getData()},methods:{showError:function(t,e,a){this.errorType="warning"===a?"warning":"error",this.errorTitle=t&&""!==t?t:this.$L("出错了"),this.errorTips=e&&""!==e?e:null,this.loading=!1,this.errorShow=!0},backFunc:function(){this.$router.push({name:"orderList",params:{type:"all"}})},getData:function(){var t=this;t.loading=!0;var e=t.$route.params.id;t.$api("afterSaleDetail",{orderId:e},(function(e){if(1===e.flag){t.tableData=e.data.refundOrderInfo,t.activities=e.data.refundLog;for(var a=0;a<t.activities.length;a++)t.activities[a].type="primary";t.loading=!1}else-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}),(function(e){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}))},submitFunc:function(){var t=this;if(t.loading=!0,""!==t.form.company&&""!==t.form.number){var e=t.tableData.refundId,a={refundId:e,deliveryName:t.form.company,deliveryNum:t.form.number};t.$api("addRefundDelivery",a,(function(e){1===e.flag?(t.getData(),t.$message({type:"success",message:t.$L("提交成功!")}),t.loading=!1):-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}),(function(e){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$router.push({name:"orderList",params:{type:"all"}})}))}))}else t.$message({type:"error",message:t.$L("物流公司或物流单号不存在!")}),t.loading=!1},submitTwoFunc:function(){this.$router.push({name:"orderService",params:{id:this.$route.params.id}})}}},i=r,o=(a("1cc7"),a("4023")),l=Object(o["a"])(i,s,n,!1,null,"1c4b246e",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-029b831c.35db5cfa.js.map