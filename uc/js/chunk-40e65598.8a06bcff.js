(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40e65598"],{"0ecb":function(e,t,o){},"2aac":function(e,t,o){"use strict";var i=o("a8fe"),a=o.n(i);a.a},"43b3":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.data?o("div",{staticClass:"emailMobile"},[0===e.data.isset?o("div",{staticClass:"email-form"},[o("p",{staticClass:"title"},[e._v(e._s(e.$L("绑定邮箱后，您可以使用邮箱快捷找回密码")))]),o("el-form",{staticClass:"phone-box"},[o("el-input",{attrs:{size:"medium",placeholder:e.$L("输入新邮箱")},model:{value:e.newEmail,callback:function(t){e.newEmail=t},expression:"newEmail"}}),o("el-input",{attrs:{size:"medium",placeholder:e.$L("输入邮箱验证码")},model:{value:e.emailCode,callback:function(t){e.emailCode=t},expression:"emailCode"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"getMess",attrs:{slot:"append"},on:{click:e.getEmailMessage},slot:"append"},[e._v(e._s(e.$L(" 获取验证码")))]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"getMess",attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.count))])],1),o("el-button",{attrs:{type:"primary"},on:{click:e.bindFunc}},[e._v(e._s(e.$L(" 绑定")))])],1)],1):1===e.data.isset?o("div",{staticClass:"email-form"},[1===e.pass?o("div",{staticStyle:{"margin-top":"30px"}},[o("p",{staticClass:"title"},[e._v(e._s(e.$L("当前邮箱"))+"： "+e._s(e.data.emailNum))]),o("el-form",{staticClass:"phone-box"},[o("el-input",{attrs:{size:"medium",placeholder:e.$L("输入新邮箱")},model:{value:e.newEmail,callback:function(t){e.newEmail=t},expression:"newEmail"}}),o("el-input",{attrs:{size:"medium",placeholder:e.$L("输入邮箱验证码")},model:{value:e.emailCode,callback:function(t){e.emailCode=t},expression:"emailCode"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"getMess",attrs:{slot:"append"},on:{click:e.getEmailMessage},slot:"append"},[e._v(e._s(e.$L(" 获取验证码")))]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"getMess",attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.count))])],1),o("el-button",{attrs:{type:"primary"},on:{click:e.bindFunc}},[e._v(e._s(e.$L("提交")))])],1)],1):0===e.pass?o("div",{staticClass:"safetyCheck"},[o("div",{staticClass:"phone-form"},[o("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:e.$L("密码验证"),name:"pwd"}},[o("div",{staticClass:"phone-box"},[o("el-input",{attrs:{size:"medium","show-password":"",placeholder:e.$L("输入登录密码")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),o("el-button",{attrs:{type:"primary"},on:{click:e.pwdCheck}},[e._v(e._s(e.$L("验证")))])],1)]),1===e.data.issetMobile&&e.data.mobileNum?o("el-tab-pane",{attrs:{label:e.$L("手机验证"),name:"phone"}},[o("p",{staticClass:"title"},[e._v(e._s(e.$L("当前手机号"))+"："+e._s(e.data.mobileNum))]),o("div",{staticClass:"phone-box"},[o("el-input",{attrs:{size:"medium",placeholder:e.$L("输入手机验证码")},model:{value:e.mobileCode,callback:function(t){e.mobileCode=t},expression:"mobileCode"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"getMess",attrs:{slot:"append"},on:{click:e.getPhoneMessage},slot:"append"},[e._v(e._s(e.$L(" 获取验证码")))]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"getMess",attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.count))])],1),o("el-button",{attrs:{type:"primary"},on:{click:e.phoneCheck}},[e._v(e._s(e.$L("验证")))])],1)]):e._e()],1)],1)]):e._e()]):e._e()]):e._e()},a=[],s={name:"emailMobile",inject:["reload"],data:function(){return{isBind:1,pass:0,newEmail:"",emailCode:"",mobileCode:"",password:"",message:"",activeName:"pwd",type:"phone",isPwd:0,phoneNumber:"",show:!0,count:"",timer:null,tableData:{},emailNum:"",data:this.$route.params.data}},methods:{getPhoneMessage:function(){if(""!==this.data.trueMobileNum){var e=/^1[0-9]{10}$/;if(!e.test(this.data.trueMobileNum))return void this.$message.error(this.$L("手机号码不正确"))}var t=this;t.loading=!0;var o={send_mobile:1};t.$api("sendCodeChange",o,(function(e){if(1===e.flag){t.tableData=e.data;var o=t.tableData.limitTime;t.timer||(t.count=o,t.show=!1,t.timer=setInterval((function(){t.count>0&&t.count<=o?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3)),console.log("false:",t.show),t.$message({message:t.$L("手机验证码发送成功咯！"),type:"success"}),t.loading=!1}else-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome(),t.$emit("closeDialog")})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.reload(),t.$emit("closeDialog")})).catch((function(e){t.$router.push({name:"accountSafety"}),t.$emit("closeDialog")}))}),(function(e){t.$confirm(t.$L(e.msg),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.reload(),t.$emit("closeDialog")})).catch((function(e){t.$router.push({name:"accountSafety"}),t.$emit("closeDialog")}))}))},getEmailMessage:function(){if(""!==this.newEmail.trim()){if(""!==this.newEmail.trim()){var e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!e.test(this.newEmail.trim()))return void this.$message.error(this.$L("请输入有效的邮箱"))}var t=this;t.loading=!0;var o={email:t.newEmail,send_email:1};t.$api("sendCode",o,(function(e){if(1===e.flag){t.tableData=e.data;var o=t.tableData.limitTime;console.log("false22:",t.timer),t.timer||(t.count=o,t.show=!1,t.timer=setInterval((function(){t.count>0&&t.count<=o?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3)),console.log("false11:",t.show),t.$message({message:t.$L("邮箱验证码发送成功咯！"),type:"success"}),t.loading=!1}else-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L(e.msg),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.reload(),t.$emit("closeDialog")})).catch((function(e){t.$gotoWebHome(),t.$emit("closeDialog")}))}),(function(e){t.$confirm(t.$L(e.msg),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.reload(),t.$emit("closeDialog")})).catch((function(e){t.$gotoWebHome(),t.$emit("closeDialog")}))}))}else this.$message.error(this.$L("请输入邮箱"))},bindFunc:function(){if(""!==this.newEmail.trim())if(""!==this.emailCode.trim()){if(""!==this.newEmail.trim()){var e=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!e.test(this.newEmail.trim()))return void this.$message.error(this.$L("请输入有效的邮箱"))}var t=this;t.loading=!0;var o={email:t.newEmail,code:t.emailCode};t.$api("bindEmail",o,(function(e){1===e.flag?(t.$message({message:t.$L("邮箱绑定成功咯！"),type:"success"}),t.$emit("closeDialog"),t.reload(),t.loading=!1):-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.reload(),t.$emit("closeDialog")})):t.$confirm(t.$L(e.data.msg),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.reload(),t.$emit("closeDialog")})).catch((function(e){t.$gotoWebHome(),t.$emit("closeDialog")}))}),(function(e){t.$confirm(t.$L(e.msg),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.reload(),t.$emit("closeDialog")})).catch((function(e){t.$gotoWebHome(),t.$emit("closeDialog")}))}))}else this.$message.error(this.$L("请输入验证码"));else this.$message.error(this.$L("请输入邮箱"))},modifyFunc:function(){this.$message({message:"邮箱修改成功咯！",type:"success"}),this.$emit("closeDialog")},pwdCheck:function(){if(""!==this.password.trim()){var e=this;e.loading=!0;var t={password:e.password};e.$api("verifyPassword",t,(function(t){1===t.flag?(e.emailNum=t.data.email,e.pass=1,e.loading=!1):-1===t.flag?e.$confirm(e.$L("请重新登录"),e.$L("登录超时"),{confirmButtonText:e.$L("重新登录"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.$router.push({name:"login",query:{redirect:e.$route.fullPath}})})).catch((function(t){e.$gotoWebHome()})):e.$confirm(e.$L(t.msg),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.reload(),e.$emit("closeDialog")})).catch((function(t){e.$gotoWebHome(),e.$emit("closeDialog")}))}),(function(t){e.$confirm(e.$L("数据加载失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.reload(),e.$emit("closeDialog")})).catch((function(t){e.$gotoWebHome(),e.$emit("closeDialog")}))}))}else this.$message.error(this.$L("请输入密码"))},phoneCheck:function(){if(""!==this.mobileCode.trim()){var e=this;e.loading=!0;var t={type:1,code:e.mobileCode,mobile:e.data.trueMobileNum,code_type:"sms"};e.$api("validationCode",t,(function(t){1===t.flag?(e.timer=!1,e.pass=1,e.show=!0,e.loading=!1):-1===t.flag?e.$confirm(e.$L("请重新登录"),e.$L("登录超时"),{confirmButtonText:e.$L("重新登录"),cancelButtonText:e.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.$router.push({name:"login",query:{redirect:e.$route.fullPath}})})).catch((function(t){e.reload(),e.$emit("closeDialog")})):e.$confirm(e.$L(t.data.msg),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.reload(),e.$emit("closeDialog")})).catch((function(t){e.$gotoWebHome(),e.$emit("closeDialog")}))}),(function(t){e.$confirm(e.$L(t.msg),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.reload(),e.$emit("closeDialog")})).catch((function(t){e.$gotoWebHome(),e.$emit("closeDialog")}))}))}else this.$message.error(this.$L("请输入验证码"))}}},n=s,l=(o("2aac"),o("9329"),o("4023")),c=Object(l["a"])(n,i,a,!1,null,"dd1b4302",null);t["default"]=c.exports},9329:function(e,t,o){"use strict";var i=o("0ecb"),a=o.n(i);a.a},a8fe:function(e,t,o){}}]);
//# sourceMappingURL=chunk-40e65598.8a06bcff.js.map