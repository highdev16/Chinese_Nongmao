(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81dc8e0c"],{"0408":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"order-pay"},[t.gotoPay?t._e():s("div",{staticClass:"order-main"},[s("div",{staticClass:"order-detail"},[t._m(0),s("div",{staticClass:"r-box"},[s("div",{staticClass:"order-tips"},[s("div",{staticClass:"title"},[t._v(t._s(t.$L("订单编号")+"："+(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("orderSn")?t.routerData.orderInfo.orderSn:""))+"\n                    ")]),s("div",{staticClass:"n"},[t._v(t._s(t.$L("订单已提交，请尽快完成支付")))])]),s("div",{staticClass:"order-list"},[s("ul",[s("li",[t._v(t._s(t.$L("订单金额："))),s("span",{staticStyle:{color:"#FF0000"}},[t._v(t._s(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("orderAmount")?t.routerData.orderInfo.orderAmount:""))])]),s("li",[t._v(t._s(t.$L("配送地址：")+(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("address")&&t.routerData.orderInfo.address?t.routerData.orderInfo.address:""))+"\n                        ")]),s("li",[t._v(t._s(t.$L("联系电话：")+(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("mobile")&&t.routerData.orderInfo.address?t.routerData.orderInfo.mobile:""))+"\n                        ")])])])])]),s("div",{staticClass:"pay-type"},[s("div",{staticClass:"pay-title"},[t._v(t._s(t.$L("选择支付方式")))]),s("div",{staticClass:"pay-box"},[t.routerData.hasOwnProperty("payListArr")?s("ul",{staticClass:"r-pay"},t._l(t.routerData.payListArr,(function(e,r){return s("li",{key:r,staticClass:"li"},[s("el-radio-group",{model:{value:t.payId,callback:function(e){t.payId=e},expression:"payId"}},[s("el-radio",{attrs:{label:e.payid}},[s("img",{staticClass:"img",attrs:{src:e.logo,alt:""}})])],1)],1)})),0):t._e()])]),s("div",{staticClass:"bottom"},[s("el-button",{attrs:{size:"medium"},on:{click:t.closeFunc}},[t._v(t._s(t.$L("关闭")))]),s("el-button",{attrs:{size:"medium"},on:{click:t.orderInfo}},[t._v(t._s(t.$L("查看订单详情")))]),s("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.payOrder}},[t._v(t._s(t.$L("立即支付")))])],1)]),t.gotoPay?s("iframe",{ref:"ifr",staticClass:"windows",style:{height:t.height},attrs:{src:t.payUrl},on:{load:t.onLoad}}):t._e()])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-box"},[s("i",{staticClass:"bbx-font bbx-icon-zhifu1"})])}],o=(s("cc57"),{name:"orderPay",inject:["reload"],props:{height:{type:String,default:""},loading:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},listener:{type:Object,default:function(){return{}}}},watch:{listener:function(t,e){t&&t.hasOwnProperty("order")&&this.payListen(t.order,t.data)}},data:function(){return{payId:0,routerData:{},gotoPay:!1}},computed:{payUrl:{get:function(){return this.$C("serverUrlAjax")+"/exusers/u_payin_finish.php?order_id="+this.data.orderId+"&pay_id="+this.payId+"&vue=1&lang="+this.$langID()}}},created:function(){this.getData()},methods:{payListen:function(t,e){var s=this;switch(t){case"showError":e.hasOwnProperty("msg")&&this.$alert(e.msg,e.hasOwnProperty("title")?e.title:this.$L("支付失败"),{confirmButtonText:this.$L("确定"),type:"error",showClose:!1}).then((function(){s.closeLoading(),s.gotoPay=!1}));break;case"gotoOrderInfo":this.orderInfo(),e.hasOwnProperty("msg")&&e.msg&&""!==e.msg&&this.$message({message:e.msg,type:"success"});break;case"payInfo":e.hasOwnProperty("info")&&this.$alert(e.info,this.$L("支付提示"),{confirmButtonText:this.$L("确定"),type:"warning",showClose:!1}).then((function(){s.orderInfo()}));break;case"getGiftCard":e.hasOwnProperty("msg")&&e.msg&&""!==e.msg&&0==this.$cookies.isKey("userCardToken")?this.$confirm(e.msg,this.$L("提示"),{confirmButtonText:this.$L("确定"),cancelButtonText:this.$L("不在提示"),type:"warning"}).then((function(){s.$emit("closeDialog"),s.$router.push({name:"userCard"})})).catch((function(t){"cancel"==t&&s.$cookies.set("userCardToken","userCard","3y"),s.$emit("closeDialog"),s.reload()})):(this.$emit("closeDialog"),this.$message({message:this.$L("订单支付成功"),type:"success"}),this.reload());break}},onLoad:function(){this.$refs.ifr.contentWindow.postMessage({msg:"isVue"},this.$C("serverUrlAjax"))},payOrder:function(){0===this.payId?this.$message.error("请选择支付方式"):(this.showLoading(),this.gotoPay=!0)},orderInfo:function(){var t=this;this.closeFunc(),"orderInfo"===this.$route.name&&this.$route.params.id===this.data.orderId?setTimeout((function(){t.reload()}),500):this.$router.push({name:"orderInfo",params:{id:this.data.orderId}})},showLoading:function(){this.$emit("showDialogLoading")},closeLoading:function(){this.$emit("closeDialogLoading")},closeFunc:function(){this.$emit("closeDialog")},getData:function(){var t=this;t.data.hasOwnProperty("orderId")?t.$api("payOrder",{orderId:t.data.orderId},(function(e){1===e.flag?(t.routerData=e.data,console.log("_self.routerData",t.routerData),t.closeLoading()):-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("重试"),cancelButtonText:t.$L("关闭"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.closeFunc()}))}),(function(e){t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击"),cancelButtonText:t.$L("关闭"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.closeFunc()}))})):t.$confirm(t.$L("参数有误"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("关闭窗口"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.closeFunc()}))}}}),n=o,i=(s("2201"),s("4023")),c=Object(i["a"])(n,r,a,!1,null,"09cbb896",null);e["a"]=c.exports},"05a1":function(t,e,s){},1337:function(t,e,s){"use strict";var r=s("dfea"),a=s.n(r);a.a},"19a5":function(t,e,s){"use strict";var r=s("6b3d"),a=s.n(r);a.a},2201:function(t,e,s){"use strict";var r=s("47d6"),a=s.n(r);a.a},3184:function(t,e,s){},3649:function(t,e,s){"use strict";var r=s("7ea3"),a=s.n(r);a.a},"369d":function(t,e,s){},"373e":function(t,e,s){"use strict";var r=s("3184"),a=s.n(r);a.a},"47d6":function(t,e,s){},"60c3":function(t,e,s){"use strict";var r=s("369d"),a=s.n(r);a.a},6231:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!==t.orderInfo?s("div",{staticClass:"order-detail"},[s("table",{attrs:{width:"100%",cellpadding:"0",cellspacing:"0",border:"0"}},[s("tbody",[s("tr",{staticClass:"tr"},[s("td",{staticClass:"left-td"},[t._v(t._s(t.$L("收货人"))+"：")]),s("td",[t._v(t._s(t.orderInfo.contActor))])]),s("tr",{staticClass:"tr"},[s("td",{staticClass:"left-td"},[t._v(t._s(t.$L("手机号码"))+"：")]),s("td",[t._v(t._s(t.orderInfo.mobile))])]),s("tr",{staticClass:"tr"},[s("td",{staticClass:"left-td"},[t._v(t._s(t.$L("收货地址"))+"：")]),s("td",[s("p",{staticClass:"order-address"},[t._v(t._s(t.orderInfo.address))])])]),s("tr",{staticClass:"tr"},[s("td",{staticClass:"left-td"},[t._v(t._s(t.$L("支付方式"))+"：")]),s("td",[t._v(t._s(t.orderInfo.payName))])]),s("tr",{staticClass:"tr"},[s("td",{staticClass:"left-td"},[t._v(t._s(t.$L("送货时间"))+"：")]),s("td",[t._v(t._s(t.orderInfo.bestTime))])]),s("tr",{staticClass:"tr"},[s("td",{staticClass:"left-td"},[t._v(t._s(t.$L("留言信息"))+"：")]),s("td",[t._v(t._s(t.orderInfo.memo))])])])])]):t._e()},a=[],o={name:"orderDetail",props:{orderInfo:{type:Object,default:function(){return null}}}},n=o,i=(s("1337"),s("4023")),c=Object(i["a"])(n,r,a,!1,null,"6338deb8",null);e["a"]=c.exports},6901:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.orderInfo?s("div",{staticClass:"bottom-btn"},[s("el-button",{attrs:{size:"small"},on:{click:t.backFunc}},[t._v(t._s(t.$L("返回")))]),2===t.orderInfo.orderType?s("div",{staticStyle:{display:"inline-block"}},[t.orderInfo.hasOwnProperty("refundStatus")&&1===t.orderInfo.refundStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"refund")}}},[t._v(t._s(t.$L("申请退款")))]):t._e(),3===t.orderInfo.thisOrderStatus||4===t.orderInfo.thisOrderStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"afterSaleInfo")}}},[t._v(t._s(t.$L("售后详情")))]):t._e(),t.orderInfo.hasOwnProperty("pStatus")&&2===t.orderInfo.pStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"pay")}}},[t._v(t._s(t.$L("立即付款")))]):t._e(),t.orderInfo.hasOwnProperty("pStatus")&&5===t.orderInfo.pStatus?s("el-button",{staticClass:"item-btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"finish")}}},[t._v(t._s(t.$L("确认收货")))]):t._e(),t.orderInfo.hasOwnProperty("pStatus")&&6===t.orderInfo.pStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"refund")}}},[t._v(t._s(t.$L("申请退款")))]):t._e(),0===t.orderInfo.commentsStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"evaluate")}}},[t._v(t._s(t.$L("去评价")))]):t._e(),1===t.orderInfo.commentsStatus?s("el-button",{staticClass:"item-btn",attrs:{type:"text"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"evaluateInfo")}}},[t._v(t._s(t.$L("查看评价"))+">")]):t._e()],1):s("div",{staticStyle:{display:"inline-block"}},[t.orderInfo.hasOwnProperty("refundStatus")&&1===t.orderInfo.refundStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"refund")}}},[t._v(t._s(t.$L("申请退款")))]):t._e(),1===t.orderInfo.commentsStatus?s("el-button",{staticClass:"item-btn",attrs:{type:"text"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"evaluateInfo")}}},[t._v(t._s(t.$L("查看评价"))+">")]):t._e(),3===t.orderInfo.thisOrderStatus||4===t.orderInfo.thisOrderStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"afterSaleInfo")}}},[t._v(t._s(t.$L("售后详情")))]):t._e(),t.orderInfo.thisOrderStatus<0||4==t.orderInfo.thisOrderStatus||5==t.orderInfo.thisOrderStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"del")}}},[t._v(t._s(t.$L(" 删除订单")))]):t._e(),0===t.orderInfo.thisOrderStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"cancel")}}},[t._v(t._s(t.$L("取消订单")))]):t._e(),0===t.orderInfo.commentsStatus?s("el-button",{staticClass:"item-btn",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"evaluate")}}},[t._v(t._s(t.$L("去评价")))]):t._e(),(0===t.orderInfo.thisOrderStatus||1===t.orderInfo.thisOrderStatus)&&t.orderInfo.payStatus>=0?s("el-button",{staticClass:"item-btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"pay")}}},[t._v(t._s(t.$L("立即付款")))]):t._e(),2===t.orderInfo.thisOrderStatus?s("el-button",{staticClass:"item-btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.changeOrderType(t.orderInfo,"finish")}}},[t._v(t._s(t.$L("确认收货")))]):t._e()],1)],1):t._e()},a=[],o=s("987c"),n=s("0408"),i={name:"btnStates",inject:["reload"],components:{orderPay:n["a"]},props:{orderInfo:{type:Object,default:function(){return{}}}},methods:{changeOrderType:function(t,e){var s=this;switch(e){case"del":(t.thisOrderStatus<0||4==t.thisOrderStatus||5==t.thisOrderStatus)&&this.$confirm(this.$L("是否确认删除订单？"),this.$L("删除订单"),{confirmButtonText:this.$L("立即删除"),cancelButtonText:this.$L("我再想想"),type:"warning",distinguishCancelAndClose:!0}).then((function(){s.showLoad(!0),s.$api("changeType",{orderId:t.orderId,orderType:"del"},(function(t){s.showLoad(!1),t&&1===t.flag?(s.$message.success(s.$L("操作成功！")),s.$router.push({name:"orderList"})):(console.log(t),s.$message.error(s.$L("操作失败！请稍后重试！")))}),(function(t){console.log(t),s.$message.error(s.$L("操作失败！请稍后重试！")),s.showLoad(!1)}))})).catch((function(t){}));break;case"refund":if(t.hasOwnProperty("refundStatus")&&1===t.refundStatus){this.$router.push({name:"orderService",params:{id:t.orderId}});break}break;case"pay":(0===t.thisOrderStatus||1===t.thisOrderStatus)&&t.payStatus>=0&&this.$store.commit("setDialogObj",{name:this.$L("订单支付"),view:this.$isMobile()?o["a"]:n["a"],width:"900px",loading:!0,data:{orderId:t.orderId}});break;case"cancel":0===t.thisOrderStatus&&this.$confirm(this.$L("确认取消订单吗？"),this.$L("取消订单"),{confirmButtonText:this.$L("立即取消"),cancelButtonText:this.$L("我再想想"),type:"warning",distinguishCancelAndClose:!0}).then((function(){s.showLoad(!0),s.$api("changeType",{orderId:t.orderId,orderType:"cancel"},(function(t){s.showLoad(!1),t&&1===t.flag?(s.$message.success(s.$L("操作成功！")),s.reloadData()):(console.log(t),s.$message.error(s.$L("操作失败！请稍后重试！")))}),(function(t){console.log(t),s.$message.error(s.$L("操作失败！请稍后重试！")),s.showLoad(!1)}))})).catch((function(t){}));break;case"finish":2===t.thisOrderStatus&&this.$confirm(this.$L("是否确认收货？"),this.$L("确认收货"),{confirmButtonText:this.$L("立即确认"),cancelButtonText:this.$L("我再想想"),type:"warning",distinguishCancelAndClose:!0}).then((function(){s.showLoad(!0),s.$api("changeType",{orderId:t.orderId,orderType:"finish"},(function(t){s.showLoad(!1),t&&1===t.flag?(s.$message.success(s.$L("操作成功！")),s.reloadData()):(console.log(t),s.$message.error(s.$L("操作失败！请稍后重试！")))}),(function(t){console.log(t),s.$message.error(s.$L("操作失败！请稍后重试！")),s.showLoad(!1)}))})).catch((function(t){}));break;case"evaluate":0===t.commentsStatus&&this.$router.push({name:"orderComment",params:{id:t.orderId}});break;case"afterSaleInfo":3!==t.thisOrderStatus&&4!==t.thisOrderStatus||this.$router.push({name:"orderServiceInfo",params:{id:t.orderId}});break;case"evaluateInfo":1===t.commentsStatus&&this.$router.push({name:"checkComment",params:{id:t.orderId}});break}},backFunc:function(){this.$router.push({name:"orderList",params:{type:"all"}})},showLoad:function(t){this.$emit("showLoad",t),t||this.reload()}}},c=i,l=(s("60c3"),s("4023")),d=Object(l["a"])(c,r,a,!1,null,"604f81ed",null);e["a"]=d.exports},"6b3d":function(t,e,s){},"7d07":function(t,e,s){"use strict";var r=s("05a1"),a=s.n(r);a.a},"7ea3":function(t,e,s){},"987c":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"order-pay"},[t.gotoPay?t._e():s("div",{staticClass:"order-main"},[s("div",{staticClass:"order-detail"},[s("div",{staticClass:"r-box"},[s("div",{staticClass:"order-tips"},[s("div",{staticClass:"title"},[t._v(t._s(t.$L("订单编号")+"："+(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("orderSn")?t.routerData.orderInfo.orderSn:"")))]),s("div",{staticClass:"n"},[t._v(t._s(t.$L("订单已提交，请尽快完成支付")))])]),s("div",{staticClass:"order-list"},[s("ul",[s("li",[t._v(t._s(t.$L("订单金额："))),s("span",{staticStyle:{color:"#FF0000"}},[t._v(t._s(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("orderAmount")?t.routerData.orderInfo.orderAmount:""))])]),s("li",[t._v(t._s(t.$L("配送地址：")+(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("address")&&t.routerData.orderInfo.address?t.routerData.orderInfo.address:""))+"\n                        ")]),s("li",[t._v(t._s(t.$L("联系电话：")+(t.routerData.hasOwnProperty("orderInfo")&&t.routerData.orderInfo.hasOwnProperty("mobile")&&t.routerData.orderInfo.address?t.routerData.orderInfo.mobile:""))+"\n                        ")])])])])]),s("div",{staticClass:"pay-type"},[s("div",{staticClass:"pay-title"},[t._v(t._s(t.$L("选择支付方式")))]),s("div",{staticClass:"pay-box"},[t.routerData.hasOwnProperty("payListArr")?s("ul",{staticClass:"r-pay"},t._l(t.routerData.payListArr,(function(e,r){return s("li",{key:r,staticClass:"li"},[s("el-radio-group",{model:{value:t.payId,callback:function(e){t.payId=e},expression:"payId"}},[s("el-radio",{attrs:{label:e.payid}},[s("img",{staticClass:"img",attrs:{src:e.logo,alt:""}})])],1)],1)})),0):t._e()])]),s("div",{staticClass:"bottom"},[s("el-button",{staticClass:"btn",attrs:{size:"medium"},on:{click:t.closeFunc}},[t._v(t._s(t.$L("关闭")))]),s("el-button",{staticClass:"btn",attrs:{size:"medium"},on:{click:t.orderInfo}},[t._v(t._s(t.$L("查看订单详情")))]),s("el-button",{staticClass:"btn",attrs:{type:"primary",size:"medium"},on:{click:t.payOrder}},[t._v(t._s(t.$L("立即支付")))])],1)]),t.gotoPay?s("iframe",{ref:"ifr",staticClass:"windows",style:{height:t.height},attrs:{src:t.payUrl,sandbox:"allow-scripts allow-top-navigation allow-same-origin"},on:{load:t.onLoad}}):t._e()])},a=[],o=(s("cc57"),{name:"orderPay",inject:["reload"],props:{height:{type:String,default:""},loading:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},listener:{type:Object,default:function(){return{}}}},watch:{listener:function(t,e){t&&t.hasOwnProperty("order")&&this.payListen(t.order,t.data)}},data:function(){return{payId:0,routerData:{},gotoPay:!1}},computed:{payUrl:{get:function(){return this.$C("serverUrlAjax")+"/exusers/u_payin_finish.php?order_id="+this.data.orderId+"&pay_id="+this.payId+"&vue=1&lang="+this.$lang()}}},created:function(){this.getData()},methods:{payListen:function(t,e){var s=this;switch(t){case"showError":e.hasOwnProperty("msg")&&this.$alert(e.msg,e.hasOwnProperty("title")?e.title:this.$L("支付失败"),{confirmButtonText:this.$L("确定"),type:"error",showClose:!1}).then((function(){s.closeLoading(),s.gotoPay=!1}));break;case"gotoOrderInfo":this.orderInfo(),e.hasOwnProperty("msg")&&e.msg&&""!==e.msg&&this.$message({message:e.msg,type:"success"});break;case"payInfo":e.hasOwnProperty("info")&&this.$alert(e.info,this.$L("支付提示"),{confirmButtonText:this.$L("确定"),type:"warning",showClose:!1}).then((function(){s.orderInfo()}));break;case"getGiftCard":e.hasOwnProperty("msg")&&e.msg&&""!==e.msg&&0==this.$cookies.isKey("userCardToken")?this.$confirm(e.msg,this.$L("提示"),{confirmButtonText:this.$L("确定"),cancelButtonText:this.$L("不在提示"),type:"warning"}).then((function(){s.$emit("closeDialog"),s.$router.push({name:"userCardMobile"})})).catch((function(t){"cancel"==t&&s.$cookies.set("userCardToken","userCard","3y"),s.$emit("closeDialog"),s.reload()})):(this.$emit("closeDialog"),this.$message({message:this.$L("订单支付成功"),type:"success"}),this.reload());break}},onLoad:function(){this.$refs.ifr.contentWindow.postMessage({msg:"isVue"},this.$C("serverUrlAjax"))},payOrder:function(){0===this.payId?this.$message.error("请选择支付方式"):(this.showLoading(),this.gotoPay=!0)},orderInfo:function(){var t=this;this.closeFunc(),"orderInfo"===this.$route.name&&this.$route.params.id===this.data.orderId?setTimeout((function(){t.reload()}),500):this.$router.push({name:"orderInfo",params:{id:this.data.orderId}})},showLoading:function(){this.$emit("showDialogLoading")},closeLoading:function(){this.$emit("closeDialogLoading")},closeFunc:function(){this.$emit("closeDialog")},getData:function(){var t=this;t.data.hasOwnProperty("orderId")?t.$api("payOrder",{orderId:t.data.orderId,type:"mobile"},(function(e){1===e.flag?(t.routerData=e.data,t.closeLoading()):-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("重试"),cancelButtonText:t.$L("关闭"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.closeFunc()}))}),(function(e){t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击"),cancelButtonText:t.$L("关闭"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.closeFunc()}))})):t.$confirm(t.$L("参数有误"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("关闭窗口"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.closeFunc()}))}}}),n=o,i=(s("3649"),s("7d07"),s("4023")),c=Object(i["a"])(n,r,a,!1,null,"381771d7",null);e["a"]=c.exports},c253:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!==t.orderInfo?s("div",{staticClass:"prod-list"},[s("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:t.orderInfo.getProductInfo,"header-cell-style":{background:"#f0f1f5",padding:"10px",color:"#666"}}},[s("el-table-column",{attrs:{label:t.$L("产品信息"),align:"left","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return s("div",{staticClass:"info"},[s("div",{staticClass:"list-main-left"},[s("img",{staticClass:"img",attrs:{src:e.row.smallImg,alt:""}})]),s("div",{staticClass:"list-main-right"},[s("p",{staticClass:"orderInfo"},[t._v(t._s(e.row.chrName))]),s("p",{domProps:{innerHTML:t._s(e.row.goodsSpec)}})])])}}],null,!1,2519294409)}),s("el-table-column",{attrs:{label:t.$L("价格"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return s("div",{},[t._v("\n                "+t._s(e.row.goodsPrice)+"\n            ")])}}],null,!1,466652736)}),s("el-table-column",{attrs:{label:t.$L("规格"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return s("div",{},[s("p",{domProps:{innerHTML:t._s(e.row.goodsSpec?e.row.goodsSpec:t.$L("无"))}})])}}],null,!1,2721793939)}),s("el-table-column",{attrs:{label:t.$L("数量"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return s("div",{},[t._v("\n                "+t._s(e.row.goodsNumber)+"\n            ")])}}],null,!1,3324255214)}),s("el-table-column",{attrs:{label:t.$L("状态"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return s("div",{},[t._v("\n                "+t._s(t.statusFunc(t.orderInfo.payStatus))+"\n            ")])}}],null,!1,17728804)})],1),2==t.orderInfo.orderType&&t.orderInfo.remaining>0?s("div",{staticClass:"spell"},[1===t.orderInfo.pStatus?s("div",[s("div",{staticClass:"title"},[t._v(" "+t._s(t.$L("限时凑单：离结束还有"))+" "),s("span",{staticClass:"num"},[t._v(t._s(t.d))]),t._v(" "+t._s(t.$L("天"))+" "),s("span",{staticClass:"num"},[t._v(t._s(t.h))]),t._v(" "+t._s(t.$L("时"))+" "),s("span",{staticClass:"num"},[t._v(t._s(t.m))]),t._v(" "+t._s(t.$L("分"))+" "),s("span",{staticClass:"num"},[t._v(t._s(t.s))]),t._v(" "+t._s(t.$L("秒")))]),s("ul",{staticClass:"ul"},[t._l(t.orderInfo.exuserHead,(function(t){return s("li",{staticClass:"li"},[s("img",{staticClass:"img",attrs:{src:t,alt:""}})])})),s("li",{staticClass:"text"},[t._v("\n                    "+t._s(t.orderInfo.peopleNum)+t._s(t.$L("人团："))),s("br"),t._v("\n                    "+t._s(t.$L("还差"))+t._s(t.orderInfo.peopleNum-t.orderInfo.exuserHead.length)+t._s(t.$L("人成团"))+"\n                ")])],2)]):t._e(),2===t.orderInfo.pStatus?s("div",[t._v("\n            "+t._s(t.$L("拼团已成功，赶紧去支付吧！"))+"\n        ")]):t._e(),5===t.orderInfo.pStatus?s("div",[t._v("\n            "+t._s(t.$L("拼团已完成，卖家已经发货了！"))+"\n        ")]):t._e(),6===t.orderInfo.pStatus?s("div",[t._v("\n            "+t._s(t.$L("拼购已完成，请确认收货咯！"))+"\n        ")]):t._e()]):t._e(),s("div",{staticClass:"prod-bottom"},[s("div",{staticClass:"right-box"},[s("ul",{staticClass:"ul"},[s("li",{staticClass:"li"},[s("span",[t._v(t._s(t.$L("商品总额"))+":")]),s("span",[t._v(t._s(t.orderInfo.goodsAmount))])]),s("li",{staticClass:"li"},[s("span",[t._v(t._s(t.$L("店铺优惠"))+":")]),s("span",[t._v(t._s(t.orderInfo.discountMoney))])]),s("li",{staticClass:"li"},[s("span",[t._v(t._s(t.$L("包装费用"))+":")]),s("span",[t._v(t._s(t.orderInfo.packFee))])]),s("li",{staticClass:"li"},[s("span",[t._v(t._s(t.$L("运费"))+":")]),s("span",[t._v(t._s(t.orderInfo.deliveryFee))])]),s("li",{staticClass:"li"},[s("span",[t._v(t._s(t.$L("支付手续费"))+":")]),s("span",[t._v(t._s(t.orderInfo.payFee))])]),s("li",{staticClass:"li"},[s("span",[t._v(t._s(t.$L("发票税额"))+":")]),s("span",[t._v(t._s(t.orderInfo.taxFee))])]),s("li",{staticClass:"li"},[s("span",{staticClass:"font-black"},[t._v(t._s(t.$L("实付金额"))+":")]),s("span",{staticClass:"font-red"},[t._v(t._s(t.orderInfo.orderAmount))])])])])])],1):t._e()},a=[],o={name:"prodList",props:{orderInfo:{type:Object,default:function(){return null}}},data:function(){return{leftTime:"",d:"",h:"",m:"",s:""}},created:function(){this.countTime()},methods:{statusFunc:function(t){var e=this.$L("买家已付款");switch(t){case 0:e=this.$L("等待买家付款");break;case-1:e=this.$L("货到付款");break;case-2:e=this.$L("到店付款");break;case-3:e=this.$L("等待买家汇款");break}return e},countTime:function(){var t=new Date;t.getTime();this.orderInfo.remaining=parseInt(this.orderInfo.remaining),this.orderInfo.remaining>0&&(this.d=Math.floor(this.orderInfo.remaining/86400),this.h=Math.floor(this.orderInfo.remaining/3600)-24*this.d,this.m=Math.floor(this.orderInfo.remaining/60)-24*this.d*60-60*this.h,this.s=Math.floor(this.orderInfo.remaining)-24*this.d*60*60-60*this.h*60-60*this.m,this.h=this.h<10?"0"+this.h:this.h,this.m=this.m<10?"0"+this.m:this.m,this.s=this.s<10?"0"+this.s:this.s),this.orderInfo.remaining--,setTimeout(this.countTime,1e3)}}},n=o,i=(s("373e"),s("4023")),c=Object(i["a"])(n,r,a,!1,null,"78f977b5",null);e["a"]=c.exports},dfea:function(t,e,s){},e751:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logistics-info"},[s("el-timeline",{staticClass:"steps",attrs:{direction:"vertical",active:1,space:80}},t._l(t.deliveryList,(function(e,r){return s("el-timeline-item",{key:r,attrs:{icon:e.icon,type:e.type,color:e.color,size:e.size,timestamp:e.time}},[e.hasOwnProperty("status")?[t._v(" "+t._s(t.textType(e.status,e.delivery_name,e.delivery_num).text)+" ")]:[t._v(" "+t._s(e.context)+" ")]],2)})),1)],1)},a=[],o={name:"LogisticsInfo",data:function(){return{}},props:{deliveryList:{type:Array,default:function(){return[]}}},methods:{textType:function(t,e,s){var r;switch(t){case 0:r={text:this.$L("你的订单已提交")};break;case 1:r={text:this.$L("等待商家配货")};break;case 2:r={text:this.$L("商家已配货")};break;case 3:r={text:this.$L("等待商家发货")};break;case 4:r={text:this.$L("商家已发货，")+e+s};break;case 5:r={text:this.$L("卖家已发货,等待快递员上门揽件")};break;case 6:r={text:this.$L("商品正在退货中")};break;case 7:r={text:this.$L("订单退货已完成")};break;default:r={text:this.$L("未知状态")};break}return r}}},n=o,i=(s("19a5"),s("4023")),c=Object(i["a"])(n,r,a,!1,null,"7ff7f985",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-81dc8e0c.26f3ee73.js.map