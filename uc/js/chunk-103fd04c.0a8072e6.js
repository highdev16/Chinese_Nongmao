(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-103fd04c"],{"08ef":function(t,e,a){},2622:function(t,e,a){"use strict";var n=a("08ef"),r=a.n(n);r.a},"2d69":function(t,e,a){"use strict";var n=a("fc11"),r=a.n(n);r.a},"96ac":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ranking"},[t.tableData?a("div",{staticClass:"list-top"},[a("rank-tab-two",{attrs:{"tab-list":t.theadName,"list-type":t.listType}})],1):t._e(),t.tableData&&t.tableData.hasOwnProperty("list")?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main-table"},[a("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData.list,"header-cell-style":{background:"#f0f1f5",color:"#666"},"empty-text":t.$L("暂无数据")}},[a("el-table-column",{attrs:{prop:"noId",label:t.$L("排名"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("p",{staticClass:"noid"},[a("span",{staticClass:"bbx-font bbx-icon-huiyuan1"}),t._v(" "+t._s(e.row.noId))])])}}],null,!1,431095679)}),a("el-table-column",{attrs:{prop:"agentName",label:t.$L("用户名"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[t._v("\n                    "+t._s(e.row.agentName?e.row.agentName:t.$L("-"))+"\n                ")])}}],null,!1,3266894300)}),a("el-table-column",{attrs:{prop:"realName",label:t.$L("姓名"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[t._v("\n                    "+t._s(e.row.realName?e.row.realName:t.$L("-"))+"\n                ")])}}],null,!1,4223404188)}),"sales"===t.listType.type?a("el-table-column",{attrs:{prop:"sellTotal",label:t.$L("交易总额"),align:"center"}}):t._e(),"commission"===t.listType.type?a("el-table-column",{attrs:{prop:"sellTotal",label:t.$L("佣金"),align:"center"}}):t._e(),"offline"===t.listType.type?a("el-table-column",{attrs:{prop:"sellTotal",label:t.$L("下级个数"),align:"center"}}):t._e()],1),t.tableData.allNum>0&&t.tableData.allNum>t.pageSize?a("div",{staticClass:"list-pages"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.tableData.allNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1):t._e()])},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tabList&&t.tabList.length>0&&t.listType.hasOwnProperty("type")?a("div",{staticClass:"rank-tab-two"},[a("el-button-group",{staticClass:"btn-group"},t._l(t.tabList,(function(e,n){return a("el-button",{key:n,staticClass:"btn-item",attrs:{type:t.listType.type==e.type?"primary":"default",size:"small"},on:{click:function(t){"function"===typeof e.func&&e.func()}}},[t._v(t._s(e.text))])})),1)],1):t._e()},l=[],s={name:"rankTabTwo",props:{tabList:{type:Array,default:function(){return[]}},listType:{type:Object,default:function(){return{}}}}},o=s,u=(a("2622"),a("4023")),c=Object(u["a"])(o,i,l,!1,null,null,null),p=c.exports,f={name:"ranking",components:{rankTabTwo:p},data:function(){return{loading:!0,errorType:"error",errorTitle:this.$L("出错了"),errorTips:null,errorShow:!1,btnSize:"small",tableData:{},pageSize:20,currentPage:1,inputValue:"",listType:{type:"sales"}}},computed:{theadName:{get:function(){var t=this,e=[];return 1===this.tableData.sales&&e.push({text:this.$L("销售排行榜"),type:"sales",func:function(){t.$router.push({params:{type:"sales"}})}}),1===this.tableData.commission&&e.push({text:this.$L("佣金排行榜"),type:"commission",func:function(){t.$router.push({params:{type:"commission"}})}}),1===this.tableData.offline&&e.push({text:this.$L("下级排行榜"),type:"offline",func:function(){t.$router.push({params:{type:"offline"}})}}),e}}},beforeRouteUpdate:function(t,e,a){this.getData(t),this.currentPage=1,a()},created:function(){this.getData()},methods:{showError:function(t,e,a){this.errorType="warning"===a?"warning":"error",this.errorTitle=t&&""!==t?t:this.$L("出错了"),this.errorTips=e&&""!==e?e:null,this.loading=!1,this.errorShow=!0},getData:function(t){var e=this;e.loading=!0,t||(t=e.$route),e.listType.type=t.params.hasOwnProperty("type")?t.params.type:"sales";var a={p:e.currentPage,num:e.pageSize,type:e.listType.type,keyword:e.inputValue};e.$api("distributionRankingList",a,(function(t){1===t.flag?(e.tableData=t.data,e.loading=!1):-1===t.flag?e.$confirm(e.$L("请重新登录"),e.$L("登录超时"),{confirmButtonText:e.$L("重新登录"),cancelButtonText:e.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.$router.push({name:"login",query:{redirect:e.$route.fullPath}})})).catch((function(t){e.$router.push({name:"home"})})):e.$confirm(e.$L("数据加载失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回我的分销"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"distributorList"})}))}),(function(t){e.$confirm(e.$L("网络请求失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"home"})}))}))},handleSizeChange:function(t){this.pageSize=t,this.getData()},handleCurrentChange:function(t){this.currentPage=t,this.getData()},searchFunc:function(t){this.inputValue=t,this.getData()}}},h=f,d=(a("2d69"),Object(u["a"])(h,n,r,!1,null,"c4ea374e",null));e["default"]=d.exports},fc11:function(t,e,a){}}]);
//# sourceMappingURL=chunk-103fd04c.0a8072e6.js.map