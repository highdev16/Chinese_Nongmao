{"version":3,"sources":["webpack:///./src/views/web/messageChildren/messageList.vue?d76b","webpack:///src/views/web/messageChildren/messageList.vue","webpack:///./src/views/web/messageChildren/messageList.vue?b494","webpack:///./src/views/web/messageChildren/messageList.vue","webpack:///./src/views/web/messageChildren/messageList.vue?d9fb"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","tableData","hasOwnProperty","list","length","on","$event","delMsgFunc","_v","_s","$L","setReadMsgFunc","changeTypeFunc","model","value","callback","$$v","messageType","expression","_l","item","key","type","name","searchFunc","nativeOn","indexOf","_k","keyCode","target","blur","inputValue","slot","directives","rawName","staticStyle","background","color","handleSelectionChange","scopedSlots","_u","fn","scope","domProps","row","title","class","statusFunc","status","text","getInfoFunc","id","allNum","pageSize","currentPage","handleSizeChange","handleCurrentChange","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-d5046424.8e39dea4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-list\"},[_c('div',{staticClass:\"content-top\"},[_c('el-button-group',{staticClass:\"left\"},[_c('el-button',{attrs:{\"type\":\"default\",\"size\":\"small\",\"disabled\":_vm.tableData && _vm.tableData.hasOwnProperty('list') && _vm.tableData.list.length <= 0},on:{\"click\":function($event){return _vm.delMsgFunc()}}},[_vm._v(_vm._s(_vm.$L('选中删除')))]),_c('el-button',{attrs:{\"type\":\"default\",\"size\":\"small\",\"disabled\":_vm.tableData && _vm.tableData.hasOwnProperty('list') && _vm.tableData.list.length <= 0},on:{\"click\":function($event){return _vm.setReadMsgFunc()}}},[_vm._v(_vm._s(_vm.$L('设为已读')))])],1),_c('div',{staticClass:\"right\"},[_c('el-select',{staticClass:\"search\",attrs:{\"size\":\"small\"},on:{\"change\":_vm.changeTypeFunc},model:{value:(_vm.messageType),callback:function ($$v) {_vm.messageType=$$v},expression:\"messageType\"}},_vm._l((_vm.messageTypelist),function(item){return _c('el-option',{key:item.type,attrs:{\"label\":item.name,\"value\":item.type}})}),1),_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":_vm.$L('输入标题'),\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":_vm.searchFunc},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return $event.target.blur($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},slot:\"append\"})],1)],1)],1),(_vm.tableData && _vm.tableData.hasOwnProperty('list'))?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"content\"},[_c('el-table',{staticClass:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.list,\"empty-text\":_vm.$L('暂无数据'),\"header-cell-style\":{background:'#f0f1f5',color:'#666'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$L('标题'),\"align\":\"left\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(scope.row.title)}})}}],null,false,1944640498)}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":_vm.$L('时间'),\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":_vm.$L('状态'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"status\"},[_c('span',{class:_vm.statusFunc(scope.row.status).color},[_vm._v(_vm._s(_vm.statusFunc(scope.row.status).text))])])}}],null,false,2370015200)}),_c('el-table-column',{attrs:{\"label\":_vm.$L('管理'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"manage-btn\"},[_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getInfoFunc(scope.row.status,scope.row.id)}}},[_vm._v(_vm._s(_vm.$L('查看')))]),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.delMsgFunc(scope.row.id)}}},[_vm._v(_vm._s(_vm.$L('删除')))])],1)}}],null,false,346479176)})],1),(_vm.tableData.list !== null && _vm.tableData.allNum>_vm.pageSize)?_c('div',{staticClass:\"list-pages\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, total, jumper\",\"total\":_vm.tableData.allNum},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"message-list\">\r\n        <div class=\"content-top\">\r\n            <el-button-group  class=\"left\">\r\n                <el-button type=\"default\" size=\"small\" @click=\"delMsgFunc()\" :disabled=\"tableData && tableData.hasOwnProperty('list') && tableData.list.length <= 0\">{{ $L('选中删除') }}</el-button>\r\n                <el-button type=\"default\" size=\"small\" @click=\"setReadMsgFunc()\" :disabled=\"tableData && tableData.hasOwnProperty('list') && tableData.list.length <= 0\">{{ $L('设为已读') }}</el-button>\r\n            </el-button-group>\r\n            <div class=\"right\">\r\n                <el-select class=\"search\" v-model=\"messageType\" size=\"small\"\r\n                           @change=\"changeTypeFunc\">\r\n                    <el-option\r\n                            v-for=\"item in messageTypelist\"\r\n                            :key=\"item.type\"\r\n                            :label=\"item.name\"\r\n                            :value=\"item.type\">\r\n                    </el-option>\r\n                </el-select>\r\n                <el-input :placeholder=\"$L('输入标题')\" size=\"small\" v-model=\"inputValue\" class=\"input-with-select\"\r\n                          clearable\r\n                          @keyup.enter.native=\"$event.target.blur\"\r\n                          @change=\"searchFunc\">\r\n                    <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n                </el-input>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"content\" v-loading=\"loading\" v-if=\"tableData && tableData.hasOwnProperty('list')\">\r\n            <el-table\r\n                    :data=\"tableData.list\"\r\n                    style=\"width: 100%\" class=\"table\"\r\n                    :empty-text=\"$L('暂无数据')\"\r\n                    :header-cell-style=\"{background:'#f0f1f5',color:'#666'}\"\r\n                    @selection-change=\"handleSelectionChange\">\r\n                <el-table-column\r\n                        type=\"selection\"\r\n                        width=\"55\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :label=\"$L('标题')\"\r\n                        align=\"left\">\r\n                    <div slot-scope=\"scope\" class=\"title\" v-html=\"scope.row.title\"></div>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"createTime\"\r\n                        :label=\"$L('时间')\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"status\"\r\n                        :label=\"$L('状态')\"\r\n                        align=\"center\">\r\n                    <div class=\"status\" slot-scope=\"scope\">\r\n                        <span :class=\"statusFunc(scope.row.status).color\">{{ statusFunc(scope.row.status).text }}</span>\r\n                    </div>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :label=\"$L('管理')\"\r\n                        align=\"center\">\r\n                    <div class=\"manage-btn\" slot-scope=\"scope\">\r\n                        <el-button class=\"btn\" type=\"primary\" @click=\"getInfoFunc(scope.row.status,scope.row.id)\">{{ $L('查看') }}</el-button>\r\n                        <el-button class=\"btn\" type=\"default\" @click=\"delMsgFunc(scope.row.id)\">{{ $L('删除') }}</el-button>\r\n                    </div>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n            <div class=\"list-pages\" v-if=\"tableData.list !== null && tableData.allNum>pageSize\">\r\n                <el-pagination\r\n                        background\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page=\"currentPage\"\r\n                        :page-size=\"pageSize\"\r\n                        layout=\"prev, pager, next, total, jumper\"\r\n                        :total=\"tableData.allNum\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"messageList\",\r\n        data(){\r\n            return {\r\n                loading: true,\r\n                errorType: 'error',\r\n                errorTitle: this.$L('出错了'),\r\n                errorTips: null,\r\n                errorShow: false,\r\n                messageType:0,\r\n                inputValue:'',\r\n                msgArr:[],\r\n                messageTypelist:[\r\n                    {\r\n                        type:0,\r\n                        name:this.$L('全部消息')\r\n                    },\r\n                    {\r\n                        type:2,\r\n                        name:this.$L('未读')\r\n                    },\r\n                    {\r\n                        type:1,\r\n                        name:this.$L('已读')\r\n                    },\r\n                ],\r\n                tableData:[],\r\n                pageSize:20,\r\n                currentPage:1,\r\n                type:0,\r\n            }\r\n        },\r\n        created (){\r\n          this.getData();\r\n        },\r\n        methods: {\r\n            showError(title, tips, type) {\r\n                if (type === 'warning') {\r\n                    this.errorType = 'warning';\r\n                } else {\r\n                    this.errorType = 'error';\r\n                }\r\n                if (title && title !== '') {\r\n                    this.errorTitle = title;\r\n                } else {\r\n                    this.errorTitle = this.$L('出错了');\r\n                }\r\n                if (tips && tips !== '') {\r\n                    this.errorTips = tips;\r\n                } else {\r\n                    this.errorTips = null;\r\n                }\r\n                this.loading = false;\r\n                this.errorShow = true;\r\n            },\r\n            getData() {\r\n                const _self = this;\r\n                _self.loading = true;\r\n                let arr = {\r\n                    p : _self.currentPage,\r\n                    num : _self.pageSize,\r\n                    type : _self.type,\r\n                    keyword : _self.inputValue\r\n                };\r\n                _self.$api('getMsgList', arr , function (reData) {\r\n                    if (reData.flag === 1) {\r\n                        _self.tableData = reData.data;\r\n                        _self.loading = false;\r\n                    } else if (reData.flag === -1) {\r\n                        //登录超时了\r\n                        _self.$confirm(_self.$L('请重新登录'), _self.$L('登录超时'), {\r\n                            confirmButtonText: _self.$L('重新登录'),\r\n                            cancelButtonText: _self.$L('取消'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.$router.push({name: 'login', query: {redirect: _self.$route.fullPath}});\r\n                        }).catch(action => {\r\n                            _self.$gotoWebHome();\r\n                        });\r\n                    } else {\r\n                        //未知错误\r\n                        _self.$confirm(_self.$L('数据加载失败'), _self.$L('出错了'), {\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回首页'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.getData();\r\n                        }).catch(action => {\r\n                            _self.$router.push({name: 'home'});\r\n                        });\r\n                    }\r\n                }, function (error) {\r\n                    //网络请求错误\r\n                    _self.$confirm(_self.$L('网络请求失败'), _self.$L('出错了'), {\r\n                        confirmButtonText: _self.$L('点击重试'),\r\n                        cancelButtonText: _self.$L('返回首页'),\r\n                        type: 'error',\r\n                        distinguishCancelAndClose: true\r\n                    }).then(() => {\r\n                        _self.getData();\r\n                    }).catch(action => {\r\n                        _self.$router.push({name: 'home'});\r\n                    });\r\n                });\r\n            },\r\n            handleSelectionChange(val){\r\n                let arr = [];\r\n                for (let i in val){\r\n                    arr[i] = val[i].id;\r\n                }\r\n                this.msgArr = arr;\r\n            },\r\n            changeTypeFunc(val){\r\n                this.type = val;\r\n                this.getData();\r\n            },\r\n            statusFunc(value){\r\n                let x;\r\n                switch(value){\r\n                    case 0:\r\n                        x = {text:this.$L('未读'),color:'font-red'};\r\n                        break;\r\n                    default:\r\n                        x = {text:this.$L('已读'),color:'font-green'};\r\n                        break;\r\n                }\r\n                return x;\r\n            },\r\n            handleCurrentChange(val){\r\n                this.currentPage = val;\r\n                this.getData();\r\n            },\r\n            handleSizeChange(val){\r\n                this.pageSize = val;\r\n                this.getData();\r\n            },\r\n            searchFunc(val){\r\n                this.inputValue = val;\r\n                this.getData();\r\n            },\r\n            setReadMsgFunc(){\r\n                const _self = this;\r\n                if (this.msgArr.length === 0) {\r\n                    //未知错误\r\n                    _self.$confirm(_self.$L('您还没有选中消息，请勾选消息再做此操作'), _self.$L('出错了'), {\r\n                        confirmButtonText: _self.$L('点击重试'),\r\n                        cancelButtonText: _self.$L('取消'),\r\n                        type: 'warning',\r\n                        distinguishCancelAndClose: true\r\n                    }).then(() => {\r\n                        _self.getData();\r\n                    }).catch(() => {\r\n\r\n                    });\r\n                    return ;\r\n                }\r\n                _self.$confirm(_self.$L('是否将选中消息设为已读?'),_self.$L( '提示'), {\r\n                    confirmButtonText:_self.$L( '确定'),\r\n                    cancelButtonText:_self.$L( '取消'),\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    let arr = {\r\n                        messageIds : _self.msgArr\r\n                    };\r\n                    _self.loading = true;\r\n                    _self.$api('setReadMessage', arr , function (reData) {\r\n                        if (reData.flag === 1) {\r\n                            _self.$message({\r\n                                message: _self.$L('设置成功！'),\r\n                                type: 'success'\r\n                            });\r\n                            _self.getData();\r\n                            _self.loading = false;\r\n                        } else if (reData.flag === -1) {\r\n                            //登录超时了\r\n                            _self.$confirm(_self.$L('请重新登录'), _self.$L('登录超时'), {\r\n                                confirmButtonText: _self.$L('重新登录'),\r\n                                cancelButtonText: _self.$L('取消'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.$router.push({name: 'login', query: {redirect: _self.$route.fullPath}});\r\n                            }).catch(action => {\r\n                                _self.$gotoWebHome();\r\n                            });\r\n                        } else {\r\n                            //未知错误\r\n                            _self.$confirm(_self.$L('数据加载失败'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回首页'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.getData();\r\n                            }).catch(() => {\r\n                                _self.$router.push({name: 'home'});\r\n                            });\r\n                        }\r\n                    }, function (error) {\r\n                        //网络请求错误\r\n                        _self.$confirm(_self.$L('网络请求失败'), _self.$L('出错了'), {\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回首页'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.getData();\r\n                        }).catch(() => {\r\n                            _self.$router.push({name: 'home'});\r\n                        });\r\n                    });\r\n                }).catch(() => {\r\n\r\n                });\r\n            },\r\n            getInfoFunc(val,id){\r\n                this.$router.push({name: 'messageInfo',params:{id:id}});\r\n            },\r\n            delMsgFunc(id){\r\n                const _self = this;\r\n                if (!id && (Array.isArray(this.msgArr) && this.msgArr.length === 0)) {\r\n                    //未知错误\r\n                    _self.$confirm(_self.$L('您还没有选中消息，请勾选消息再做此操作'), _self.$L('出错了'), {\r\n                        confirmButtonText: _self.$L('点击重试'),\r\n                        cancelButtonText: _self.$L('取消'),\r\n                        type: 'warning',\r\n                        distinguishCancelAndClose: true\r\n                    }).then(() => {\r\n                        _self.getData();\r\n                    }).catch(() => {\r\n\r\n                    });\r\n                    return ;\r\n                }\r\n\r\n                let groupId;\r\n\r\n                if (id) {\r\n                    groupId = id;\r\n                } else {\r\n                    groupId = this.msgArr;\r\n                }\r\n\r\n                let arr = {\r\n                    messageIds : groupId,\r\n                };\r\n                _self.$confirm(_self.$L('此操作将永久删除该消息, 是否继续?'),_self.$L( '出错了'), {\r\n                    confirmButtonText:_self.$L( '确定'),\r\n                    cancelButtonText:_self.$L( '取消'),\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    _self.$api('deleteMessage', arr, function (reData) {\r\n                        if (reData.flag === 1) {\r\n                            _self.loading = false;\r\n                            _self.$message({\r\n                                type: 'success',\r\n                                message: _self.$L('删除成功!')\r\n                            });\r\n                            _self.getData();\r\n                        } else if (reData.flag === -1) {\r\n                            //登录超时了\r\n                            _self.$confirm(_self.$L('请重新登录'), _self.$L('登录超时'), {\r\n                                confirmButtonText: _self.$L('重新登录'),\r\n                                cancelButtonText: _self.$L('取消'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.$router.push({name: 'login', query: {redirect: _self.$route.fullPath}});\r\n                            }).catch(action => {\r\n                                _self.$gotoWebHome();\r\n                            });\r\n                        } else {\r\n                            console.log(reData);\r\n                            //未知错误\r\n                            _self.$confirm(_self.$L('数据加载失败'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回首页'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.getData();\r\n                            }).catch(action => {\r\n                                _self.$router.push({name: 'home'});\r\n                            });\r\n                        }\r\n                    }, function (error) {\r\n                        console.log(error);\r\n                        //网络请求错误\r\n                        _self.$confirm(_self.$L(error.msg), _self.$L('出错了'), { //todo:msg还未更换语言包语言包\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回首页'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.getData();\r\n                        }).catch(action => {\r\n                            _self.$router.push({name: 'home'});\r\n                        });\r\n                    });\r\n                }).catch(() => {\r\n\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import \"../../../assets/css/common/common\";\r\n    @import \"../../../assets/css/common/lib\";\r\n     .message-list{\r\n         position: absolute;\r\n         width: 100%;\r\n         padding: 20px;\r\n         left: 0;\r\n         top: 0;\r\n         .content-top{\r\n             margin-bottom: 10px;\r\n             height: 32px;\r\n             .left{\r\n                 float: left;\r\n             }\r\n             .right{\r\n                 float: right;\r\n                .font{\r\n                    padding-left: 20px;\r\n                    font-size: 16px;\r\n                }\r\n                 .search{\r\n                     width: 120px;\r\n                 }\r\n                 .input-with-select{\r\n                     width: calc(100% - 120px);\r\n                     padding-left: 10px;\r\n                 }\r\n             }\r\n         }\r\n         .content{\r\n             padding: 20px;\r\n             background: #fff;\r\n             .table{\r\n                 width: 100%;\r\n                .manage-btn{\r\n                    .btn{\r\n                        padding: 8px 30px;\r\n                    }\r\n                }\r\n                 .title{\r\n                     text-overflow: ellipsis;\r\n                     white-space: nowrap;\r\n                     overflow: hidden;\r\n                 }\r\n                .status{\r\n                    .font-red {\r\n                        color: #ff0000;\r\n                    }\r\n                    .font-green {\r\n                        color: #00bf00;\r\n                    }\r\n                }\r\n                 /deep/ .el-table__empty-block {\r\n                     @extend .no-select;\r\n                     position: relative;\r\n                     width: 100%;\r\n                     height: 380px;\r\n                     line-height: 380px;\r\n                     text-align: center;\r\n                     background-color: #ffffff;\r\n                     font-size: 16px;\r\n                     color: #999;\r\n                     margin-bottom: 20px;\r\n                 }\r\n             }\r\n             .list-pages{\r\n                 text-align: center;\r\n                 padding: 40px 0 20px;\r\n             }\r\n         }\r\n         .error {\r\n             position: absolute;\r\n             z-index: 200;\r\n             top: 0;\r\n             left: 0;\r\n             width: 100%;\r\n             height: 100%;\r\n             background: #FFFFFF;\r\n             overflow: hidden;\r\n\r\n             .error-tips {\r\n                 position: absolute;\r\n                 top: 50%;\r\n                 left: 50%;\r\n                 width: 320px;\r\n                 transform: translate(-50%, -50%);\r\n             }\r\n         }\r\n     }\r\n\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./messageList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./messageList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messageList.vue?vue&type=template&id=7d3b0c5a&scoped=true&\"\nimport script from \"./messageList.vue?vue&type=script&lang=js&\"\nexport * from \"./messageList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./messageList.vue?vue&type=style&index=0&id=7d3b0c5a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d3b0c5a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./messageList.vue?vue&type=style&index=0&id=7d3b0c5a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./messageList.vue?vue&type=style&index=0&id=7d3b0c5a&lang=scss&scoped=true&\""],"sourceRoot":""}