(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f95fb26"],{1664:function(t,e,r){},"240b":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.orderInfo?r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"order-info"},[r("div",{staticClass:"content-top"},[r("p",{staticClass:"order-sn"},[t._v(t._s(t.$L("订单编号"))+"："+t._s(t.orderInfo.orderSn))]),r("step",{attrs:{"order-info":t.orderInfo}})],1),1==t.orderInfo.orderType||4==t.orderInfo.orderType?r("div",{staticClass:"order-details"},[r("div",{staticClass:"order-left"},[r("p",{staticClass:"title"},[t._v(t._s(t.$L("订单信息")))]),r("order-detail",{attrs:{orderInfo:t.orderInfo}})],1),r("div",{staticClass:"order-right"},[r("div",{staticClass:"right-content"},[r("p",{staticClass:"title"},[t._v(t._s(t.$L("物流信息")))]),0==t.deliveryList.length?r("div",{staticClass:"deliver"},[t._v("\n                    "+t._s(t.$L("暂时未有物流信息"))+"\n                ")]):t._e(),t.deliveryList.length>0?r("div",[""!=t.orderInfo.deliveryName||""!=t.orderInfo.deliveryNum?r("div",{staticClass:"order-number"},[t._v("\n                        "+t._s(t.orderInfo.deliveryName)+" "+t._s(t.orderInfo.deliveryNum)+"\n                    ")]):t._e(),r("logistics-info",{attrs:{deliveryList:t.deliveryList}})],1):t._e()])])]):t._e(),3==t.orderInfo.orderType?r("div",{staticClass:"leave-msg"},[r("p",{staticClass:"title"},[t._v(t._s(t.$L("商家留言")))]),r("p",[t._v(t._s(t.orderInfo.adminMemo?t.orderInfo.adminMemo:t.$L("无")))])]):t._e(),t.orderInfo?r("div",{staticClass:"prod-info"},[r("prod-list",{attrs:{orderInfo:t.orderInfo}})],1):t._e(),r("bottom-btn",{attrs:{"order-info":t.orderInfo},on:{showLoad:t.showLoad}})],1):t._e()},s=[],n=r("6231"),i=r("e751"),a=r("c253"),d=r("6901"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.orderInfo?r("div",{staticClass:"step"},[2==t.orderInfo.orderType?r("div",[-1!==t.orderInfo.pStatus&&3!==t.orderInfo.pStatus?r("el-steps",{staticClass:"steps",attrs:{active:t.spellFunc(t.orderInfo.pStatus),"finish-status":"success"}},[r("el-step",{attrs:{title:t.$L("拍下商品"),description:t.orderInfo.addTime}}),r("el-step",{attrs:{title:t.$L("凑单中")}}),r("el-step",{attrs:{title:t.$L("订单支付"),description:t.orderInfo.orderPayTime}}),r("el-step",{attrs:{title:t.$L("确认收货"),description:t.orderInfo.orderConfirmTime}}),r("el-step",{attrs:{title:t.$L("订单评价"),description:t.orderInfo.orderCommentTime}})],1):r("div",{staticClass:"end"},[t._v("\n            "+t._s(t.$L("拼团已经结束了，下次再来参与咯。"))+"\n        ")])],1):r("el-steps",{staticClass:"steps",attrs:{active:t.orderInfo.orderStep,"finish-status":"success"}},[r("el-step",{attrs:{title:t.$L("提交订单"),description:t.orderInfo.addTime}}),r("el-step",{attrs:{title:t.$L("订单支付"),description:t.orderInfo.orderPayTime}}),r("el-step",{attrs:{title:t.$L("确认收货"),description:t.orderInfo.orderConfirmTime}}),r("el-step",{attrs:{title:t.$L("订单评价"),description:t.orderInfo.orderCommentTime}})],1)],1):t._e()},l=[],f={name:"step",props:{orderInfo:{type:Object,default:function(){return{}}}},methods:{spellFunc:function(t){var e;switch(t){case-1:case-3:e=-1;break;case 1:case 2:e=2;break;case 4:e=3;break;case 5:e=4;break;case 6:e=5;break}return e}}},u=f,p=(r("c363"),r("4023")),h=Object(p["a"])(u,c,l,!1,null,"09014a0c",null),v=h.exports,m={name:"orderInfo",components:{ProdList:a["a"],LogisticsInfo:i["a"],OrderDetail:n["a"],BottomBtn:d["a"],Step:v},data:function(){return{loading:!0,orderInfo:null,deliveryList:[]}},beforeRouteUpdate:function(t,e,r){var o=0;t.params.hasOwnProperty("id")&&(o=t.params.id,o=parseInt(o)),!isNaN(o)&&o?this.getData(o):this.showError(),r()},created:function(){var t=0;this.$route.params.hasOwnProperty("id")&&(t=this.$route.params.id,t=parseInt(t)),!isNaN(t)&&t?this.getData(t):this.showError()},methods:{backFunc:function(){this.$router.push({name:"orderList",params:{type:"all"}})},showError:function(){var t=this;this.$alert(this.$L("订单不存在或已删除"),this.$L("参数有误"),{confirmButtonText:this.$L("返回"),type:"error"}).then((function(){t.backFunc()}))},getData:function(t){var e=this;e.loading=!0,e.$api("orderDetail",{orderId:t},(function(r){1===r.flag?(e.orderInfo=r.data,e.deliveryList=r.data.deliveryList,e.loading=!1):-1===r.flag?e.$confirm(e.$L("请重新登录"),e.$L("登录超时"),{confirmButtonText:e.$L("重新登录"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.$router.push({name:"login",query:{redirect:e.$route.fullPath}})})).catch((function(t){e.$gotoWebHome()})):e.$confirm(e.$L("数据加载失败"),e.$L("出错了"),{confirmButtonText:e.$L("重试"),cancelButtonText:e.$L("返回"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData(t)})).catch((function(t){e.backFunc()}))}),(function(r){e.$confirm(e.$L("数据加载失败"),e.$L("出错了"),{confirmButtonText:e.$L("重试"),cancelButtonText:e.$L("返回"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData(t)})).catch((function(t){e.backFunc()}))}))},gotoGoodsPage:function(t){},showLoad:function(t){"undefined"===typeof t||t?this.loading=this.$loading({lock:!0}):this.loading&&(this.loading.close(),this.loading=null)}}},$=m,L=(r("d7dd"),r("50cb"),Object(p["a"])($,o,s,!1,null,"301c9836",null));e["default"]=L.exports},"50cb":function(t,e,r){"use strict";var o=r("ef5c"),s=r.n(o);s.a},8926:function(t,e,r){},c363:function(t,e,r){"use strict";var o=r("1664"),s=r.n(o);s.a},d7dd:function(t,e,r){"use strict";var o=r("8926"),s=r.n(o);s.a},ef5c:function(t,e,r){}}]);
//# sourceMappingURL=chunk-3f95fb26.d5fc5079.js.map