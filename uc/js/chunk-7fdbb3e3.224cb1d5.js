(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fdbb3e3"],{"29f9":function(t,o,e){},"4fa6":function(t,o,e){"use strict";var i=e("29f9"),l=e.n(i);l.a},"67ad":function(t,o,e){},ac7b:function(t,o,e){"use strict";var i=e("67ad"),l=e.n(i);l.a},ca54:function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"promotion-settings"},[t.extendList.length<1?e("div",{staticClass:"no-data"},[t._v("\n        "+t._s(t.$L("暂无数据"))+"\n    ")]):e("div",{staticClass:"content-view"},[e("div",{staticClass:"promotion-left"},[e("div",{staticClass:"system-header"},[t._v("\n                "+t._s(t.$L("模板"))+"\n            ")]),e("div",{staticClass:"item-box"},[e("ul",{staticClass:"ul"},t._l(t.extendList,(function(o,i){return e("li",{key:i,staticClass:"li"},[e("div",{staticClass:"model-ul"},[e("div",{staticClass:"num"},[t._v(t._s(i+1))]),e("div",{staticClass:"item img-item",on:{click:function(e){return t.getData(o.id)}}},[e("diy-image",{attrs:{src:o.img}})],1),e("div",{staticClass:"selected",class:{active:o.id===t.promotion.id}},[e("span",{staticClass:"el-icon-check"})])])])})),0)])]),e("div",{staticClass:"promotion-right"},[e("div",{staticClass:"promotion-tit"},[t._v("\n                "+t._s(t.$L("海报设置"))+"\n            ")]),e("div",{staticClass:"info-main"},[e("div",{ref:"showBox",staticClass:"info-left"},[e("share-img",{attrs:{promotion:t.promotion}})],1),e("div",{staticClass:"info-right"},[e("el-form",{ref:"form",attrs:{"label-width":"110px",size:"mini"}},[e("el-form-item",{attrs:{label:t.$L("默认头像")+"："}},[e("div",{staticClass:"poster-resource"},[e("el-radio-group",{model:{value:t.promotion.headType,callback:function(o){t.$set(t.promotion,"headType",o)},expression:"promotion.headType"}},[e("el-radio",{attrs:{label:"1"}},[t._v(t._s(t.$L("使用会员头像")))]),e("el-radio",{attrs:{label:"2"}},[t._v(t._s(t.$L("使用分销商店铺LOGO")))]),e("el-radio",{attrs:{label:"0"}},[t._v(t._s(t.$L("不使用头像")))])],1)],1)]),e("el-form-item",{attrs:{label:t.$L("页面背景")+"："}},[e("div",{staticClass:"reset-btn"},[e("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.promotion.isShowBg,callback:function(o){t.$set(t.promotion,"isShowBg",o)},expression:"promotion.isShowBg"}})],1),e("diy-image",{staticClass:"bg-img",attrs:{src:t.promotion.bgImage,"error-text":t.$L("点击上传")}}),e("div",{staticClass:"load-right"},[e("div",{staticClass:"reset-btn"},[e("label",{staticClass:"label"},[e("el-button",{attrs:{size:"small"}},[t._v(t._s(t.$L("上传图片")))]),e("input",{staticClass:"file-input",attrs:{type:"file",name:"CommentsPic",placeholder:t.$L("上传图片"),multiple:"",accept:"image/png,image/jpeg,image/jpg"},on:{change:t.upImgFunc}})],1),e("el-button",{attrs:{size:"small"},on:{click:t.defaultImg}},[t._v(t._s(t.$L("默认背景")))])],1),e("div",{staticClass:"poster-color reset-btn"},[e("el-color-picker",{model:{value:t.promotion.bgColor,callback:function(o){t.$set(t.promotion,"bgColor",o)},expression:"promotion.bgColor"}})],1),e("div",{staticClass:"tips"},[t._v(t._s(t.$L("建议尺寸:375x560px，小于2M，PNG、JPG格式")))])])],1),e("el-form-item",{attrs:{label:t.$L(" 大标题")+"："}},[e("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.promotion.isTitle,callback:function(o){t.$set(t.promotion,"isTitle",o)},expression:"promotion.isTitle"}}),e("div",{staticClass:"poster-tit"},[e("el-input",{attrs:{width:"300"},model:{value:t.promotion.extTitle,callback:function(o){t.$set(t.promotion,"extTitle",o)},expression:"promotion.extTitle"}})],1),e("div",{staticClass:"poster-color"},[e("el-color-picker",{model:{value:t.promotion.extTColor,callback:function(o){t.$set(t.promotion,"extTColor",o)},expression:"promotion.extTColor"}})],1),e("div",{staticClass:"poster-size"},[e("el-select",{model:{value:t.promotion.extTSize,callback:function(o){t.$set(t.promotion,"extTSize",o)},expression:"promotion.extTSize"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"poster-fam"},[e("el-select",{model:{value:t.promotion.extTFont,callback:function(o){t.$set(t.promotion,"extTFont",o)},expression:"promotion.extTFont"}},t._l(t.optionsFam,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("el-form-item",{attrs:{label:t.$L("副标题")+"："}},[e("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.promotion.isSubTitle,callback:function(o){t.$set(t.promotion,"isSubTitle",o)},expression:"promotion.isSubTitle"}}),e("div",{staticClass:"poster-tit"},[e("el-input",{attrs:{placeholder:t.promotion.extSubTitle,width:"300"},model:{value:t.promotion.extSubTitle,callback:function(o){t.$set(t.promotion,"extSubTitle",o)},expression:"promotion.extSubTitle"}})],1),e("div",{staticClass:"poster-color"},[e("el-color-picker",{model:{value:t.promotion.extSubTColor,callback:function(o){t.$set(t.promotion,"extSubTColor",o)},expression:"promotion.extSubTColor"}})],1),e("div",{staticClass:"poster-size"},[e("el-select",{model:{value:t.promotion.extSubTSize,callback:function(o){t.$set(t.promotion,"extSubTSize",o)},expression:"promotion.extSubTSize"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"poster-fam"},[e("el-select",{model:{value:t.promotion.extSubTFont,callback:function(o){t.$set(t.promotion,"extSubTFont",o)},expression:"promotion.extSubTFont"}},t._l(t.optionsFam,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("el-form-item",{attrs:{label:t.$L("提示文本1")+"："}},[e("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.promotion.isTip1,callback:function(o){t.$set(t.promotion,"isTip1",o)},expression:"promotion.isTip1"}}),e("div",{staticClass:"poster-tit"},[e("el-input",{attrs:{placeholder:t.promotion.extTip1,width:"300"},model:{value:t.promotion.extTip1,callback:function(o){t.$set(t.promotion,"extTip1",o)},expression:"promotion.extTip1"}})],1),e("div",{staticClass:"poster-color"},[e("el-color-picker",{model:{value:t.promotion.extTColor1,callback:function(o){t.$set(t.promotion,"extTColor1",o)},expression:"promotion.extTColor1"}})],1),e("div",{staticClass:"poster-size"},[e("el-select",{model:{value:t.promotion.extTSize1,callback:function(o){t.$set(t.promotion,"extTSize1",o)},expression:"promotion.extTSize1"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"poster-fam"},[e("el-select",{model:{value:t.promotion.extTFont1,callback:function(o){t.$set(t.promotion,"extTFont1",o)},expression:"promotion.extTFont1"}},t._l(t.optionsFam,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("el-form-item",{attrs:{label:t.$L("提示文本2")+"："}},[e("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.promotion.isTip2,callback:function(o){t.$set(t.promotion,"isTip2",o)},expression:"promotion.isTip2"}}),e("div",{staticClass:"poster-tit"},[e("el-input",{attrs:{placeholder:t.promotion.extTip2,width:"300"},model:{value:t.promotion.extTip2,callback:function(o){t.$set(t.promotion,"extTip2",o)},expression:"promotion.extTip2"}})],1),e("div",{staticClass:"poster-color"},[e("el-color-picker",{model:{value:t.promotion.extTColor2,callback:function(o){t.$set(t.promotion,"extTColor2",o)},expression:"promotion.extTColor2"}})],1),e("div",{staticClass:"poster-size"},[e("el-select",{model:{value:t.promotion.extTSize2,callback:function(o){t.$set(t.promotion,"extTSize2",o)},expression:"promotion.extTSize2"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticClass:"poster-fam"},[e("el-select",{model:{value:t.promotion.extTFont2,callback:function(o){t.$set(t.promotion,"extTFont2",o)},expression:"promotion.extTFont2"}},t._l(t.optionsFam,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),3==t.promotion.pid?e("div",{staticClass:"more"},[e("el-form-item",{attrs:{label:t.$L(" 优势标题")+"："}},[e("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.promotion.isAdvTitle,callback:function(o){t.$set(t.promotion,"isAdvTitle",o)},expression:"promotion.isAdvTitle"}}),e("div",{staticClass:"poster-tit2"},[e("el-input",{attrs:{placeholder:t.promotion.advTitle,width:"300"},model:{value:t.promotion.advTitle,callback:function(o){t.$set(t.promotion,"advTitle",o)},expression:"promotion.advTitle"}})],1),e("div",{staticClass:"poster-color"},[e("el-color-picker",{model:{value:t.promotion.advTColor,callback:function(o){t.$set(t.promotion,"advTColor",o)},expression:"promotion.advTColor"}})],1)],1),t._l(t.promotion.advContent,(function(o,i){return e("el-form-item",{key:o.index,attrs:{label:t.$L(" 优势说明")+(i+1)+"："}},[e("div",{staticClass:"poster-tit1 plant1"},[e("el-input",{attrs:{placeholder:o,width:"300"},model:{value:t.promotion.advContent[i],callback:function(o){t.$set(t.promotion.advContent,i,o)},expression:"promotion.advContent[index]"}})],1),0==i?e("div",{staticClass:"poster-add",on:{click:t.handleAdd}},[e("i",{staticClass:"el-icon-plus i"})]):e("div",{staticClass:"poster-add",on:{click:function(o){return t.handleDel(i)}}},[e("i",{staticClass:"el-icon-minus i"})]),0==i?e("div",{staticClass:"poster-color-one"},[e("el-color-picker",{model:{value:t.promotion.advContentColor,callback:function(o){t.$set(t.promotion,"advContentColor",o)},expression:"promotion.advContentColor"}})],1):t._e()])})),e("el-form-item",{staticClass:"tips",attrs:{label:t.$L("描述说明")+"："}},[e("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.promotion.isNoteContent,callback:function(o){t.$set(t.promotion,"isNoteContent",o)},expression:"promotion.isNoteContent"}}),e("div",{staticClass:"poster-tit3"},[e("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:t.promotion.noteContent,callback:function(o){t.$set(t.promotion,"noteContent",o)},expression:"promotion.noteContent"}})],1)],1)],2):t._e()],1),e("div",{staticClass:"bottom"},[e("el-button",{staticClass:"button",on:{click:t.downImg}},[t._v(t._s(t.$L("下载海报")))]),e("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.doSave}},[t._v(t._s(t.$L("保存设置")))])],1)],1)])])])])},l=[],a=e("2e07"),n=e("07e8"),s=e("a3bd"),r=e.n(s),p=e("831a"),c={name:"promotionSettings",components:{ShareImg:n["a"],DiyImage:a["a"]},data:function(){return{loading:!0,extendList:[],promotion:{},options:[{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"},{value:"20px",label:"20px"},{value:"24px",label:"24px"},{value:"28px",label:"28px"},{value:"30px",label:"30px"},{value:"32px",label:"32px"},{value:"34px",label:"34px"},{value:"36px",label:"36px"},{value:"48px",label:"48px"},{value:"60px",label:"60px"},{value:"70px",label:"70px"}],optionsFam:[{value:"微软雅黑",label:"微软雅黑"},{value:"宋体",label:"宋体"},{value:"新宋体",label:"新宋体"},{value:"仿宋_GB2312",label:"仿宋_GB2312"},{value:"楷体_GB2312",label:"楷体_GB2312"},{value:"黑体",label:"黑体"},{value:"Arial",label:"Arial"},{value:"Arial Black",label:"Arial Black"},{value:"Times New Roman",label:"Times New Roman"},{value:"Courier New",label:"Courier New"},{value:"Tahoma",label:"Tahoma"},{value:"Verdana",label:"Verdana"}]}},created:function(){this.getData()},methods:{getData:function(t){var o=this;o.loading=!0,setTimeout((function(){o.$getApi("distributionShopSeoSetting",{id:t},(function(t){o.extendList=t.extendList,o.promotion=t.promotion,o.changeTemplateUrl((function(){o.loading=!1}))}),(function(e){console.log(e),o.$confirm(o.$L("网络请求失败"),o.$L("出错了"),{confirmButtonText:o.$L("点击重试"),cancelButtonText:o.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){o.getData(t)})).catch((function(t){o.$router.push({name:"home"})}))}))}),300)},changeTemplateUrl:function(t){var o=this,e=4,i=0,l=function(){i++,i===e&&"function"===typeof t&&t()};this.promotion.hasOwnProperty("bgImage")?this.$getBase64(this.promotion.bgImage,(function(t){o.promotion.bgImage=t,l()})):l(),this.promotion.hasOwnProperty("userHead")?(this.promotion.userHead||(this.promotion.userHead=r.a),this.$getBase64(this.promotion.userHead,(function(t){o.promotion.userHead=t,l()}))):l(),this.promotion.hasOwnProperty("shopHead")?this.$getBase64(this.promotion.shopHead,(function(t){o.promotion.shopHead=t,l()})):l(),this.promotion.hasOwnProperty("qrCode")?this.$getBase64(this.promotion.qrCode,(function(t){o.promotion.qrCode=t,l()})):l()},defaultImg:function(){this.promotion&&this.promotion.hasOwnProperty("defaultBgImage")&&(this.promotion.bgImage=this.promotion.defaultBgImage)},upImgFunc:function(t){var o=this,e=t.target.files[0];if(e){var i=Math.floor(e.size/1024),l=e.type.substring(6);if(i>2097152)return o.$message({message:o.$L("请选择2M以内的图片！"),type:"warning"}),!1;if("png"!==l&&"jpeg"!==l&&"jpg"!==l)return o.$message({message:o.$L("请选择png、jpeg、jpg的图片格式！"),type:"warning"}),!1;var a=new FileReader;a.readAsDataURL(e),a.onload=function(t){o.promotion.bgImage=t.target.result}}},downImg:function(){var t=this;this.loading=!0,setTimeout((function(){t.$makeImg(t.$refs.showBox,{backgroundColor:null}).then((function(o){t.$store.commit("setDialogObj",{name:t.$L("右键图片可保存"),view:p["a"],width:"340px",data:{img:o.toDataURL()}}),t.loading=!1}))}),500)},doSave:function(){var t=this;this.loading=!0,setTimeout((function(){t.$makeImg(t.$refs.showBox,{backgroundColor:null}).then((function(o){t.promotion.extendImg=o.toDataURL(),t.updateData()}))}),500)},updateData:function(){var t=this;t.loading=!0,setTimeout((function(){t.$getApi("shopSeoSettingSave",{promotion:t.promotion},(function(o){t.extendList=o.extendList,t.promotion=o.promotion,t.changeTemplateUrl((function(){t.$message({message:t.$L("操作成功"),type:"success"}),t.loading=!1}))}),(function(o){console.log(o),t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.updateData()})).catch((function(o){t.$router.push({name:"home"})}))}))}),300)},handleAdd:function(){this.promotion.advContent.splice(this.promotion.advContent.length,0,this.$L(" 优势说明"))},handleDel:function(t){this.promotion.advContent.splice(t,1)}}},m=c,u=(e("4fa6"),e("ac7b"),e("4023")),d=Object(u["a"])(m,i,l,!1,null,"f198a704",null);o["default"]=d.exports}}]);
//# sourceMappingURL=chunk-7fdbb3e3.224cb1d5.js.map