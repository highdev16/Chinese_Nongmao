(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-586c6c6c"],{"0365":function(t,a,e){"use strict";var i=e("0e95"),s=e.n(i);s.a},"0e95":function(t,a,e){},"63c2":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"apply-withdrawal"},[e("vue-scroll",[e("el-form",{staticClass:"form-data",attrs:{model:t.applyForm,rules:t.applyRules,"show-message":!1}},[t.tableData&&t.tableData.hasOwnProperty("type")&&0===t.tableData.type?e("div",{staticClass:"apply"},[e("p",{staticClass:"title"},[t._v(t._s(t.$L("可提现佣金"))+t._s(t.tableData.accountCan))]),e("ul",{staticClass:"ul-box"},[e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L("提现金额"))+"：")]),e("div",{staticClass:"right"},[e("el-input",{attrs:{size:"small",max:"tableData.accountCan"},model:{value:t.withdrawalMoney,callback:function(a){t.withdrawalMoney=a},expression:"withdrawalMoney"}})],1)]),e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L(" 提现方式"))+"：")]),t.tableData&&t.tableData.hasOwnProperty("payType")?e("div",{staticClass:"right"},[e("el-select",{attrs:{size:"small",placeholder:t.$L("请选择活动区域")},on:{change:t.selectChange},model:{value:t.withdrawalType,callback:function(a){t.withdrawalType=a},expression:"withdrawalType"}},t._l(t.tableData.payType,(function(a){return e("el-option",{key:a.payId,attrs:{value:a.payName}},[t._v(t._s(a.payName))])})),1)],1):t._e()]),e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L(" 最小提现额"))+"：")]),e("div",{staticClass:"right"},[t._v(t._s(t.payFeeAccount))])]),e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L(" 提现手续费"))+"：")]),e("div",{staticClass:"right"},[t._v(t._s(t.payFee))])]),e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L(" 实际金额"))+"：")]),e("div",{staticClass:"right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.actualFeeAccount>0?t.actualFeeAccount:0)+t._s(t.$L(" 元"))+"\n\t\t\t\t\t\t\t")])]),e("li",{staticClass:"li-item li-two"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L(" 提现说明"))+"：")]),e("div",{staticClass:"right"},[t.note?e("span",[t._v(t._s(t.note))]):e("span",[t._v(t._s(t.$L("无")))])])]),e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L("收款账号"))+"：")]),e("div",{staticClass:"right"},[e("el-form-item",{attrs:{prop:"account"}},[e("el-input",{attrs:{size:"small"},model:{value:t.applyForm.account,callback:function(a){t.$set(t.applyForm,"account",a)},expression:"applyForm.account"}})],1)],1)]),e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L("账户姓名"))+"：")]),e("div",{staticClass:"right"},[e("el-form-item",{attrs:{prop:"accountOwner"}},[e("el-input",{attrs:{size:"small"},model:{value:t.applyForm.accountOwner,callback:function(a){t.$set(t.applyForm,"accountOwner",a)},expression:"applyForm.accountOwner"}})],1)],1)]),e("li",{staticClass:"li-item"},[e("div",{staticClass:"left"},[t._v(t._s(t.$L("联系电话"))+"：")]),e("div",{staticClass:"right"},[e("el-form-item",{attrs:{prop:"mobile"}},[e("el-input",{attrs:{size:"small"},model:{value:t.applyForm.mobile,callback:function(a){t.$set(t.applyForm,"mobile",a)},expression:"applyForm.mobile"}})],1)],1)])])]):t._e(),t.tableData&&t.tableData.hasOwnProperty("type")&&1===t.tableData.type?e("div",{staticClass:"apply apply-success"},[e("p",{staticClass:"title"},[t._v(t._s(t.$L("可提现佣金"))+"： "+t._s(t.tableData.accountCan))]),e("div",{staticClass:"tips"},[e("span",{staticClass:"bbx-font bbx-icon-gantanhao mainFontColor"}),e("p",{staticClass:"font-big"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$L("可提现佣金满"))+"\n\t\t\t\t\t\t\t"),t.tableData.min?e("span",[t._v(t._s(t.tableData.min))]):e("span",{staticClass:"mainFontColor"},[t._v(t._s(t.$L("未设置")))]),t._v("，"+t._s(t.$L("全部自动返佣到"))+"\n\t\t\t\t\t\t\t"),t.tableData.payName?e("span",[t._v(t._s(t.tableData.payName))]):e("span",{staticClass:"mainFontColor"},[t._v(t._s(t.$L("至后台设置自动返佣方式")))]),t._v("，\n\t\t\t\t\t\t\t"),t.tableData.fee?e("span",[t._v(t._s(t.$L("提现手续费"))+t._s(t.tableData.fee)+" ，"+t._s(t.$L("预计到账佣金"))+t._s(t.tableData.actualMoney))]):e("span")]),e("p",{staticClass:"note"},[t._v(t._s(t.$L("备注"))+" ："+t._s(t.tableData.note))])])]):t._e()]),t.tableData&&t.tableData.hasOwnProperty("type")&&0===t.tableData.type?e("div",{staticClass:"bottom-btns"},[e("el-button",{staticClass:"btn",attrs:{size:"small",type:"primary"},on:{click:t.applyFunc}},[t._v(t._s(t.$L("申请")))])],1):t._e()],1)],1)},s=[],n=(e("163d"),e("f548"),{name:"applyWithdrawal",data:function(){return{value:"",errorType:"error",errorTitle:this.$L("出错了"),errorTips:null,errorShow:!1,loading:!0,tableData:{},withdrawalMoneyData:"",withdrawalType:"",discount:0,payFee:0,payFeeAccount:0,actualFeeAccount:0,note:"无",payId:"",applyForm:{mobile:"",account:"",accountOwner:""},applyRules:{mobile:[{validator:function(t,a,e){if(a=parseInt(a),isNaN(a))e(new Error("请选输入正确的手机号码或固定电话"));else{var i=/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/;if(!i.test(a))return e(new Error("手机号码或固定电话有误"));e()}}}],account:[{validator:function(t,a,e){if(a=parseInt(a),isNaN(a))e(new Error("请选输入正确的账号"));else{var i=/^[0-9]\d{16,19}$/;if(!i.test(a))return e(new Error("账号有误"));e()}}}]}}},computed:{withdrawalMoney:{get:function(){return this.withdrawalMoneyData},set:function(t){t=parseFloat(t),isNaN(t)&&(t=this.withdrawalMoneyData),this.withdrawalMoneyData=t}}},created:function(){this.getData()},watch:{withdrawalMoney:function(){console.log(this.withdrawalMoney),this.payFee.indexOf("%")>=0?(this.discount=this.payFee.replace("%",""),this.discount=this.discount/100,this.actualFeeAccount=this.withdrawalMoney-this.withdrawalMoney*this.discount):this.actualFeeAccount=this.withdrawalMoney-this.payFee}},methods:{getData:function(){var t=this;t.loading=!0,t.$api("withdrawDeposit",{},(function(a){if(1===a.flag){if(t.tableData=a.data,t.loading=!1,!t.tableData.hasOwnProperty("payType")||!t.tableData.payType.payName&&1==t.tableData.type)t.$alert(t.$L("暂无提现方式！请联系我司！"),t.$L("抱歉"),{confirmButtonText:t.$L("返回"),callback:function(a){t.$router.push({name:"distributorMain"})}}),t.loading=!0;else if(0==t.tableData.type){t.withdrawalType=t.tableData.payType[0].payName;var e=t.tableData.payType[0];t.payFee=e.fee,t.payFee.indexOf("%")>=0?(t.discount=t.payFee.replace("%",""),t.discount=t.discount/100,t.actualFeeAccount=t.withdrawalMoney-t.withdrawalMoney*t.discount):t.actualFeeAccount=t.withdrawalMoney-t.payFee,t.payFeeAccount=e.min,t.note=e.note,t.payId=e.payId,t.loading=!1}}else-1===a.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(a){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){t.$router.push({name:"distributorMain"})}))}),(function(a){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){t.$router.push({name:"distributorMain"})}))}))},backFunc:function(){this.$router.push({name:"distributorList"})},selectChange:function(t){for(var a={},e=0;e<this.tableData.payType.length;e++)t===this.tableData.payType[e].payName&&(a=this.tableData.payType[e],this.payFee=a.fee,this.payFee.indexOf("%")>=0?(this.discount=this.payFee.replace("%",""),this.discount=this.discount/100,this.actualFeeAccount=this.withdrawalMoney-this.withdrawalMoney*this.discount):this.actualFeeAccount=this.withdrawalMoney-this.payFee,this.payFeeAccount=a.min,this.note=a.note,this.payId=a.payId)},applyFunc:function(){var t=this;Number(t.tableData.accountCan)>=Number(t.withdrawalMoney)?t.applyFormFunc():t.$message({type:"error",message:t.$L("可提现金额不足!")})},applyFormFunc:function(){var t=this;t.loading=!0;var a={payId:t.payId,tobMoney:t.withdrawalMoney,account:t.applyForm.account,accountOwner:t.applyForm.accountOwner,mobile:t.applyForm.mobile};""!==t.payId&&""!==t.withdrawalMoney&&""!==t.applyForm.account&&""!==t.applyForm.accountOwner&&""!==t.applyForm.mobile?Number(t.payFeeAccount)<=Number(t.withdrawalMoney)?t.$api("withdrawDepositBtn",a,(function(a){1===a.flag?(t.$message({type:"success",message:t.$L("申请提现成功!")}),t.loading=!1,t.getData()):-1===a.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(a){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){t.$router.push({name:"distributorMain"})}))}),(function(a){t.$confirm(t.$L("网络请求失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(a){t.$router.push({name:"distributorMain"})}))})):(t.$message({type:"info",message:t.$L("提现金额必须大于等于最小提现金额!")}),t.loading=!1):(t.$message({type:"info",message:t.$L("必填信息有误,重新输入!")}),t.loading=!1)}}}),l=n,o=(e("9d8a"),e("0365"),e("4023")),c=Object(o["a"])(l,i,s,!1,null,"685cfb51",null);a["default"]=c.exports},"9d8a":function(t,a,e){"use strict";var i=e("eae0"),s=e.n(i);s.a},eae0:function(t,a,e){}}]);
//# sourceMappingURL=chunk-586c6c6c.778bbf5c.js.map