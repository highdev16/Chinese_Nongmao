{"version":3,"sources":["webpack:///./src/views/web/distributorChildren/editModify.vue?7594","webpack:///./src/assets/img/distributor/addpt.jpg","webpack:///./src/views/web/distributorChildren/editModify.vue?ac40","webpack:///src/views/web/distributorChildren/editModify.vue","webpack:///./src/views/web/distributorChildren/editModify.vue?196a","webpack:///./src/views/web/distributorChildren/editModify.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","modifyForm","type","$L","_v","_s","title","editorOption","model","callback","$$v","$set","on","upImgFunc","img","backFunc","defaultFunc","saveingFunc","staticRenderFns","component"],"mappings":"kHAAA,0BAAkuB,EAAG,G,uBCAruBA,EAAOC,QAAU,IAA0B,0B,0CCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOV,EAAW,QAAEW,WAAW,YAAYL,YAAY,kBAAkB,CAACF,EAAG,UAAU,CAACE,YAAY,YAAYM,MAAM,CAAC,KAAO,QAAQ,MAAQZ,EAAIa,WAAW,cAAc,QAAQ,iBAAiB,SAAS,CAAc,QAAZb,EAAIc,MAA8B,QAAZd,EAAIc,KAAiB,CAACV,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQZ,EAAIe,GAAG,QAAQ,IAAI,KAAO,UAAU,CAACf,EAAIgB,GAAG,yBAAyBhB,EAAIiB,GAAGjB,EAAIa,WAAWK,OAAO,wBAAwBd,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQZ,EAAIe,GAAG,QAAQ,IAAI,KAAO,SAAS,CAACX,EAAG,eAAe,CAACE,YAAY,SAASM,MAAM,CAAC,UAAY,QAAQ,QAAUZ,EAAImB,cAAcC,MAAM,CAACV,MAAOV,EAAIa,WAAe,KAAEQ,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIa,WAAY,OAAQS,IAAMX,WAAW,sBAAsB,IAAI,CAACP,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQZ,EAAIe,GAAG,QAAQ,IAAI,KAAO,UAAU,CAACf,EAAIgB,GAAG,yBAAyBhB,EAAIiB,GAAGjB,EAAIa,WAAWK,OAAO,wBAAwBd,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQZ,EAAIe,GAAG,SAAS,IAAI,KAAO,QAAQ,CAACX,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAcM,MAAM,CAAC,KAAO,SAAS,GAAK,MAAM,MAAQZ,EAAIe,GAAG,WAAWX,EAAG,QAAQ,CAACQ,MAAM,CAAC,GAAK,UAAU,KAAO,OAAO,KAAO,cAAc,YAAcZ,EAAIe,GAAG,QAAQ,SAAW,GAAG,OAAS,kCAAkCS,GAAG,CAAC,OAASxB,EAAIyB,aAAarB,EAAG,MAAM,CAACE,YAAY,YAAY,CAAyB,8BAAvBN,EAAIa,WAAWa,KAA8D,KAAvB1B,EAAIa,WAAWa,IAAatB,EAAG,MAAM,CAACE,YAAY,UAAUM,MAAM,CAAC,IAAM,EAAQ,QAA6C,OAAS,IAAI,MAAQ,eAAeR,EAAG,MAAM,CAACE,YAAY,UAAUM,MAAM,CAAC,IAAMZ,EAAIa,WAAWa,IAAI,OAAS,IAAI,MAAQ,qBAAqBtB,EAAG,IAAI,CAACJ,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAIe,GAAG,mDAAmD,IAAI,GAAGX,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,YAAY,CAACoB,GAAG,CAAC,MAAQxB,EAAI2B,WAAW,CAAC3B,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAIe,GAAG,YAAYX,EAAG,YAAY,CAACoB,GAAG,CAAC,MAAQxB,EAAI4B,cAAc,CAAC5B,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAIe,GAAG,YAAYX,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQxB,EAAI6B,cAAc,CAAC7B,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAIe,GAAG,aAAa,MACroEe,EAAkB,GC+CtB,GACE,KAAF,aACE,KAFF,WAGI,MAAJ,CACM,SAAN,EACM,aAAN,GACM,KAAN,EACM,UAAN,GACM,OAAN,GACM,OAAN,aACM,WAAN,CACQ,MAAR,GACQ,KAAR,GACQ,IAAR,IAEM,WAAN,GACM,UAAN,KAGE,QAnBF,WAoBA,iDACM,KAAN,mCAEA,8CACM,KAAN,mCAEA,gDACM,KAAN,uCAEA,6CACM,KAAN,iCAEA,6CACM,KAAN,iCAGI,KAAJ,WAEE,QAAF,CACI,QADJ,WAEM,IAAN,OACM,EAAN,WACM,IAAN,GACQ,OAAR,SACQ,OAAR,SACQ,UAAR,aAEA,2CACQ,EAAR,sBAEM,EAAN,uCACA,YACU,EAAV,kBACA,sCACY,EAAZ,yCACY,EAAZ,wCAEA,uCACY,EAAZ,0CACY,EAAZ,wCAGU,EAAV,YACA,WACU,EAAV,mCACY,kBAAZ,aACY,iBAAZ,WACY,KAAZ,QACY,2BAAZ,IACA,iBACY,EAAZ,aACA,mBACY,EAAZ,cAEA,YACU,EAAV,oCACY,kBAAZ,aACY,iBAAZ,WACY,KAAZ,QACY,2BAAZ,IACA,iBACY,EAAZ,aACA,mBACY,EAAZ,eAEA,WAEU,EAAV,qCACY,kBAAZ,aACY,iBAAZ,WACY,KAAZ,QACY,2BAAZ,IACA,iBACY,EAAZ,cAAc,KAAd,QAAc,MAAd,CAAgB,SAAhB,wBACA,mBACY,EAAZ,kBAIU,EAAV,qCACY,kBAAZ,aACY,iBAAZ,WACY,KAAZ,QACY,2BAAZ,IACA,iBACY,EAAZ,aACA,mBACY,EAAZ,iBAGA,YAEQ,EAAR,qCACU,kBAAV,aACU,iBAAV,aACU,KAAV,QACU,2BAAV,IACA,iBACU,EAAV,aACA,mBACU,EAAV,cAAY,KAAZ,gBAKI,UAvFJ,SAuFA,GACM,IAAN,OACA,oBACA,0BACA,sBACM,GAAN,UAEQ,OADA,EAAR,8BACA,EAEM,GAAN,iCAEQ,OADA,EAAR,wCACA,EAEM,EAAN,WACQ,KAAR,GAEM,IAAN,iBACM,EAAN,iBACM,EAAN,mBACQ,EAAR,iCAGI,SA7GJ,WA8GM,KAAN,cAAQ,KAAR,uBAEI,YAhHJ,WAiHM,IAAN,OACA,sCACQ,EAAR,wCAEA,uCACQ,EAAR,yCAGI,YAzHJ,WAyHM,IAAN,OACA,OACM,EAAN,WACM,YAAN,WACQ,IAAR,GACU,OAAV,SACU,OAAV,SACU,UAAV,aAEA,sCACU,EAAV,6BAEA,uCACU,EAAV,6BACU,EAAV,4BAEA,2CACU,EAAV,mBAEQ,IAAR,sBACQ,EAAR,uCACA,YACY,EAAZ,UACc,QAAd,cACc,KAAd,YAEY,YAAZ,WACc,EAAd,WACA,mCACA,KACY,EAAZ,aACA,WAEY,EAAZ,qCACc,kBAAd,aACc,iBAAd,WACc,KAAd,QACc,2BAAd,IACA,iBACc,EAAd,cAAgB,KAAhB,QAAgB,MAAhB,CAAkB,SAAlB,wBACA,mBACc,EAAd,kBAEA,WACY,EAAZ,mCACc,kBAAd,aACc,iBAAd,WACc,KAAd,QACc,2BAAd,IACA,iBACc,EAAd,iBACA,mBACc,EAAd,cAEA,YACY,EAAZ,mCACc,kBAAd,aACc,iBAAd,WACc,KAAd,QACc,2BAAd,IACA,iBACc,EAAd,iBACA,mBACc,EAAd,cAEA,YACY,EAAZ,oCACc,kBAAd,aACc,iBAAd,WACc,KAAd,QACc,2BAAd,IACA,iBACc,EAAd,iBACA,mBACc,EAAd,cAEA,YACY,EAAZ,qCACc,kBAAd,aACc,iBAAd,WACc,KAAd,QACc,2BAAd,IACA,iBACc,EAAd,iBACA,mBACc,EAAd,cAEA,YACY,EAAZ,yCACc,kBAAd,aACc,iBAAd,WACc,KAAd,QACc,2BAAd,IACA,iBACc,EAAd,iBACA,mBACc,EAAd,cAIY,EAAZ,qCACc,kBAAd,aACc,iBAAd,WACc,KAAd,QACc,2BAAd,IACA,iBACc,EAAd,iBACA,mBACc,EAAd,iBAGA,YAEU,EAAV,qCACY,kBAAZ,aACY,iBAAZ,aACY,KAAZ,QACY,2BAAZ,IACA,iBACY,EAAZ,iBACA,mBACY,EAAZ,cAAc,KAAd,eAEA,KAEA,QC5Usd,I,wBCQldC,EAAY,eACd,EACAhC,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-843e9c10.df74fd68.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./editModify.vue?vue&type=style&index=0&id=36834679&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./editModify.vue?vue&type=style&index=0&id=36834679&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/addpt.2ab3bc20.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-modify\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"content-modify\"},[_c('el-form',{staticClass:\"form-item\",attrs:{\"size\":\"small\",\"model\":_vm.modifyForm,\"label-width\":\"130px\",\"label-position\":\"left\"}},[(_vm.type == 'text' || _vm.type == 'html' )?[_c('el-form-item',{attrs:{\"label\":_vm.$L('模块标题')+'：',\"prop\":\"title\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.modifyForm.title)+\"\\n                \")]),_c('el-form-item',{attrs:{\"label\":_vm.$L('模块内容')+'：',\"prop\":\"text\"}},[_c('quill-editor',{staticClass:\"editor\",attrs:{\"maxlength\":\"50000\",\"options\":_vm.editorOption},model:{value:(_vm.modifyForm.text),callback:function ($$v) {_vm.$set(_vm.modifyForm, \"text\", $$v)},expression:\"modifyForm.text\"}})],1)]:[_c('el-form-item',{attrs:{\"label\":_vm.$L('模块标题')+'：',\"prop\":\"title\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.modifyForm.title)+\"\\n                \")]),_c('el-form-item',{attrs:{\"label\":_vm.$L(' 选择上传')+'：',\"prop\":\"img\"}},[_c('label',{staticClass:\"label\"},[_c('input',{staticClass:\"mainBgColor\",attrs:{\"type\":\"button\",\"id\":\"btn\",\"value\":_vm.$L('选择文件')}}),_c('input',{attrs:{\"id\":\"fileinp\",\"type\":\"file\",\"name\":\"CommentsPic\",\"placeholder\":_vm.$L('上传图片'),\"multiple\":\"\",\"accept\":\"image/png,image/jpeg,image/jpg\"},on:{\"change\":_vm.upImgFunc}}),_c('div',{staticClass:\"img-item\"},[(_vm.modifyForm.img === 'http://bbx11.nicebox.test' || _vm.modifyForm.img === '' )?_c('img',{staticClass:\"up-show\",attrs:{\"src\":require(\"../../../assets/img/distributor/addpt.jpg\"),\"border\":\"0\",\"align\":\"absmiddle\"}}):_c('img',{staticClass:\"up-show\",attrs:{\"src\":_vm.modifyForm.img,\"border\":\"0\",\"align\":\"absmiddle\"}})])])]),_c('p',[_vm._v(_vm._s(_vm.$L('注：上传图片的大小不要超过4M，上传图片的格式应为：.jpg、.png、.gif.')))])]],2)],1),_c('div',{staticClass:\"bottom\"},[_c('el-button',{on:{\"click\":_vm.backFunc}},[_vm._v(_vm._s(_vm.$L('取消返回')))]),_c('el-button',{on:{\"click\":_vm.defaultFunc}},[_vm._v(_vm._s(_vm.$L('恢复默认')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveingFunc}},[_vm._v(_vm._s(_vm.$L('保存设置')))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"edit-modify\">\r\n        <div class=\"content-modify\" v-loading=\"loading\">\r\n            <el-form size=\"small\" :model=\"modifyForm\" label-width=\"130px\" class=\"form-item\" label-position=\"left\">\r\n\r\n                <template v-if=\"type == 'text' || type == 'html' \">\r\n                    <el-form-item :label=\"$L('模块标题')+'：'\" prop=\"title\">\r\n                        {{ modifyForm.title }}\r\n                    </el-form-item>\r\n                    <el-form-item :label=\"$L('模块内容')+'：'\" prop=\"text\">\r\n                        <quill-editor class=\"editor\" maxlength=\"50000\"\r\n                                      v-model=\"modifyForm.text\"\r\n                                      :options=\"editorOption\">\r\n                        </quill-editor>\r\n                    </el-form-item>\r\n                </template>\r\n\r\n                <template  v-else>\r\n                    <el-form-item :label=\"$L('模块标题')+'：'\" prop=\"title\">\r\n                        {{ modifyForm.title }}\r\n                    </el-form-item>\r\n                    <el-form-item :label=\"$L(' 选择上传')+'：'\" prop=\"img\">\r\n                        <label class=\"label\">\r\n                            <input class=\"mainBgColor\" type=\"button\" id=\"btn\" :value=\"$L('选择文件')\"/>\r\n                            <input id=\"fileinp\" type=\"file\" name=\"CommentsPic\" :placeholder=\"$L('上传图片')\" multiple accept=\"image/png,image/jpeg,image/jpg\" @change=\"upImgFunc\"/>\r\n                            <div class=\"img-item\">\r\n                                <img v-if=\"modifyForm.img === 'http://bbx11.nicebox.test' || modifyForm.img === '' \"\r\n                                        src=\"../../../assets/img/distributor/addpt.jpg\" border=\"0\" class=\"up-show\" align=\"absmiddle\">\r\n                                <img v-else :src=\"modifyForm.img\" border=\"0\" class=\"up-show\" align=\"absmiddle\">\r\n                            </div>\r\n\r\n                        </label>\r\n                    </el-form-item>\r\n\r\n                    <p>{{ $L('注：上传图片的大小不要超过4M，上传图片的格式应为：.jpg、.png、.gif.') }}</p>\r\n                </template>\r\n\r\n            </el-form>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            <el-button @click=\"backFunc\">{{ $L('取消返回') }}</el-button>\r\n            <el-button @click=\"defaultFunc\">{{ $L('恢复默认') }}</el-button>\r\n            <el-button @click=\"saveingFunc\" type=\"primary\">{{ $L('保存设置') }}</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"editModify\",\r\n        data() {\r\n            return {\r\n                loading: true,\r\n                editorOption: {},\r\n                type:0,         //判断是text，html,picture,image\r\n                blockName:'',     //列表数据\r\n                langId:'',\r\n                pageId:'commHeader',\r\n                modifyForm:{\r\n                    title:'',\r\n                    text:'',\r\n                    img:''\r\n                },\r\n                routerData:{},\r\n                uploadImg:[]\r\n            }\r\n        },\r\n        created() {\r\n            if(this.$route.query.hasOwnProperty('moduleType')){\r\n                this.type = this.$route.query.moduleType;\r\n            }\r\n            if(this.$route.query.hasOwnProperty('idBlock')){\r\n                this.idBlock = this.$route.query.idBlock;\r\n            }\r\n            if(this.$route.query.hasOwnProperty('blockName')){\r\n                this.blockName = this.$route.query.blockName;\r\n            }\r\n            if(this.$route.query.hasOwnProperty('langId')){\r\n                this.langId =  this.$route.query.langId;\r\n            }\r\n            if(this.$route.query.hasOwnProperty('pageId')){\r\n                this.pageId =  this.$route.query.pageId;\r\n            }\r\n\r\n            this.getData();\r\n        },\r\n        methods: {\r\n            getData() {\r\n                const _self = this;\r\n                _self.loading = true;\r\n                let arr = {\r\n                    langId:_self.langId,\r\n                    pageId:_self.pageId,\r\n                    blockName:_self.blockName\r\n                };\r\n                if(_self.$route.query.hasOwnProperty('idBlock')){\r\n                    arr.idBlock = this.idBlock;\r\n                };\r\n                _self.$api('editBlockContent', arr , function (reData) {\r\n                    if (reData.flag === 1) {\r\n                        _self.routerData = reData.data;\r\n                        if( _self.routerData.hasOwnProperty('text')){\r\n                            _self.modifyForm.title = _self.routerData.text.title;\r\n                            _self.modifyForm.text  = _self.routerData.text.text;\r\n                        }\r\n                        if( _self.routerData.hasOwnProperty('image')){\r\n                            _self.modifyForm.title = _self.routerData.image.title;\r\n                            _self.modifyForm.img = _self.routerData.image.file;\r\n                        }\r\n\r\n                        _self.loading = false;\r\n                    } else if (reData.flag === 2) {\r\n                        _self.$confirm(_self.$L('参数缺失'), _self.$L('出错了'), {\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.getData();\r\n                        }).catch(action => {\r\n                            _self.backFunc();\r\n                        });\r\n                    } else if (reData.flag === 11) {\r\n                        _self.$confirm(_self.$L('模块不存在'), _self.$L('出错了'), {\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.getData();\r\n                        }).catch(action => {\r\n                            _self.backFunc();\r\n                        });\r\n                    } else if (reData.flag === -1) {\r\n                        //登录超时了\r\n                        _self.$confirm(_self.$L('请重新登录'), _self.$L('登录超时'), {\r\n                            confirmButtonText: _self.$L('重新登录'),\r\n                            cancelButtonText: _self.$L('取消'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.$router.push({name: 'login', query: {redirect: _self.$route.fullPath}});\r\n                        }).catch(action => {\r\n                            _self.$gotoWebHome();\r\n                        });\r\n                    } else {\r\n                        //未知错误\r\n                        _self.$confirm(_self.$L('数据加载失败'), _self.$L('出错了'), {\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.getData();\r\n                        }).catch(action => {\r\n                            _self.backFunc();\r\n                        });\r\n                    }\r\n                }, function (error) {\r\n                    //网络请求错误\r\n                    _self.$confirm(_self.$L('网络请求失败'), _self.$L('出错了'), {\r\n                        confirmButtonText: _self.$L('点击重试'),\r\n                        cancelButtonText: _self.$L('返回首页'),\r\n                        type: 'error',\r\n                        distinguishCancelAndClose: true\r\n                    }).then(() => {\r\n                        _self.getData();\r\n                    }).catch(action => {\r\n                        _self.$router.push({name: 'home'});\r\n                    });\r\n                });\r\n            },\r\n            //上传图片\r\n            upImgFunc(event) {\r\n                const _self = this;\r\n                let files = event.target.files[0];\r\n                let size = Math.floor(files.size / 1024);\r\n                let type = files.type.substring(6);\r\n                if (size > 4*1024*1024) {\r\n                    _self.$Message.info('请选择4M以内的图片！');\r\n                    return false;\r\n                }\r\n                if(!(type === 'png' || type === 'jpeg' || type === 'jpg')){\r\n                    _self.$Message.info('请选择png、jpeg、jpg的图片格式！');\r\n                    return false;\r\n                }\r\n                _self.uploadImg = {\r\n                    'file':files\r\n                };\r\n                let reader = new FileReader();\r\n                reader.readAsDataURL(files);\r\n                reader.onload = function(evt){\r\n                    _self.modifyForm.img = evt.target.result;\r\n                }\r\n            },\r\n            backFunc() {\r\n                this.$router.push({name:'distributorModify'});\r\n            },\r\n            defaultFunc(){\r\n                const _self = this;\r\n                if( _self.routerData.hasOwnProperty('text')){\r\n                    _self.modifyForm.text  = _self.routerData.text.text;\r\n                }\r\n                if( _self.routerData.hasOwnProperty('image')){\r\n                    _self.modifyForm.img = _self.routerData.image.file;\r\n                }\r\n            },\r\n            saveingFunc(){\r\n                const _self = this;\r\n                _self.loading = true;\r\n                setTimeout(()=>{\r\n                    let array = {\r\n                        langId: _self.langId,\r\n                        pageId: _self.pageId,\r\n                        blockName: _self.blockName\r\n                    };\r\n                    if( _self.routerData.hasOwnProperty('text')){\r\n                        array.blockText =  _self.modifyForm.text;\r\n                    };\r\n                    if(_self.routerData.hasOwnProperty('image')) {\r\n                        _self.modifyForm.image = _self.uploadImg;\r\n                        array.PicFile = _self.modifyForm.image;\r\n                    };\r\n                    if(this.$route.query.hasOwnProperty('idBlock')){\r\n                        array.idBlock = _self.idBlock;\r\n                    };\r\n                    let postData = _self.$objToFormData(array);\r\n                    _self.$api('saveBlockContent', postData, function (reData) {\r\n                        if (reData.flag === 1) {\r\n                            _self.$message({\r\n                                message: _self.$L('保存成功！'),\r\n                                type: 'success'\r\n                            });\r\n                            setTimeout(()=>{\r\n                                _self.loading = false;\r\n                                typeof func === \"function\" && func();\r\n                            },500);\r\n                            _self.backFunc();\r\n                        } else if (reData.flag === -1) {\r\n                            //登录超时了\r\n                            _self.$confirm(_self.$L('请重新登录'), _self.$L('登录超时'), {\r\n                                confirmButtonText: _self.$L('重新登录'),\r\n                                cancelButtonText: _self.$L('取消'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.$router.push({name: 'login', query: {redirect: _self.$route.fullPath}});\r\n                            }).catch(action => {\r\n                                _self.$gotoWebHome();\r\n                            });\r\n                        } else if (reData.flag === 2) {\r\n                            _self.$confirm(_self.$L('参数缺失'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.saveingFunc();\r\n                            }).catch(action => {\r\n                                _self.backFunc();\r\n                            });\r\n                        } else if (reData.flag === 10) {\r\n                            _self.$confirm(_self.$L('保存失败'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.saveingFunc();\r\n                            }).catch(action => {\r\n                                _self.backFunc();\r\n                            });\r\n                        } else if (reData.flag === 11) {\r\n                            _self.$confirm(_self.$L('模块不存在'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.saveingFunc();\r\n                            }).catch(action => {\r\n                                _self.backFunc();\r\n                            });\r\n                        } else if (reData.flag === 13) {\r\n                            _self.$confirm(_self.$L('上传图片失败'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.saveingFunc();\r\n                            }).catch(action => {\r\n                                _self.backFunc();\r\n                            });\r\n                        } else if (reData.flag === 14) {\r\n                            _self.$confirm(_self.$L('图片大小不要超过4M'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.saveingFunc();\r\n                            }).catch(action => {\r\n                                _self.backFunc();\r\n                            });\r\n                        } else {\r\n                            //未知错误\r\n                            _self.$confirm(_self.$L('数据加载失败'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.saveingFunc();\r\n                            }).catch(action => {\r\n                                _self.backFunc();\r\n                            });\r\n                        }\r\n                    }, function (error) {\r\n                        //网络请求错误\r\n                        _self.$confirm(_self.$L('网络请求失败'), _self.$L('出错了'), {\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回首页'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.saveingFunc();\r\n                        }).catch(action => {\r\n                            _self.$router.push({name: 'home'});\r\n                        });\r\n                    },true);\r\n\r\n                },300);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .edit-modify{\r\n        position: relative;\r\n        padding: 20px !important;\r\n        .content-modify{\r\n            background: #fff;\r\n            padding: 20px;\r\n            .form-item{\r\n                width: 92%;\r\n                .editor {\r\n                    position: relative;\r\n                    width: 100%;\r\n                    height: 400px;\r\n                    display: inline-block;\r\n                }\r\n                .label{\r\n                    position: relative;\r\n                    display: block;\r\n                    cursor: pointer;\r\n                    .mainBgColor{\r\n                        color: #fff !important;\r\n                    }\r\n                    #fileinp{\r\n                        position: absolute;\r\n                        left: 0;\r\n                        opacity: 0;\r\n                        width: 90px;\r\n                        height: 32px;\r\n                        cursor: pointer;\r\n                    }\r\n                    #btn{\r\n                        display: inline-block;\r\n                        line-height: 1;\r\n                        white-space: nowrap;\r\n                        cursor: pointer;\r\n                        background: #FFFFFF;\r\n                        border: 1px solid #DCDFE6;\r\n                        border-color: #DCDFE6;\r\n                        color: #606266;\r\n                        -webkit-appearance: none;\r\n                        text-align: center;\r\n                        -webkit-box-sizing: border-box;\r\n                        box-sizing: border-box;\r\n                        outline: none;\r\n                        margin: 0;\r\n                        -webkit-transition: .1s;\r\n                        transition: .1s;\r\n                        font-weight: 500;\r\n                        -moz-user-select: none;\r\n                        -webkit-user-select: none;\r\n                        -ms-user-select: none;\r\n                        padding: 9px 20px;\r\n                        font-size: 12px;\r\n                        border-radius: 0px;\r\n                    }\r\n                }\r\n                .img-item {\r\n                    margin-top: 20px;\r\n                    .img-input {\r\n                        width: 200px;\r\n                        height: 200px;\r\n                        position: absolute;\r\n                        opacity: 0;\r\n                        left: 0;\r\n                        top: 0;\r\n                        z-index: 9999;\r\n                        cursor: pointer;\r\n                    }\r\n                    .up-show {\r\n                        height: 200px;\r\n                        width: 200px;\r\n                        cursor: auto;\r\n                        border: 1px solid #DBDBDB;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .bottom{\r\n            width: 92%;\r\n            text-align: right;\r\n            margin-top: 20px;\r\n            padding: 0 20px;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./editModify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./editModify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editModify.vue?vue&type=template&id=36834679&scoped=true&\"\nimport script from \"./editModify.vue?vue&type=script&lang=js&\"\nexport * from \"./editModify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editModify.vue?vue&type=style&index=0&id=36834679&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36834679\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}