(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28fff01d"],{"0146":function(t,e,a){},"41a0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"prize"},[n("div",{staticClass:"prize-head"},[n("div",{staticClass:"right"},[t.$route.params.hasOwnProperty("type")&&"point"!==t.$route.params.type&&"coupon"!==t.$route.params.type?n("el-select",{staticClass:"search",attrs:{size:"small"},on:{change:t.changeTypeFunc},model:{value:t.messageType,callback:function(e){t.messageType=e},expression:"messageType"}},t._l(t.messageTypelist,(function(t){return n("el-option",{key:t.type,attrs:{label:t.name,value:t.type}})})),1):t._e(),n("span",{staticClass:"font-middle"},[t._v(t._s(t.$L("获奖时间"))+"：")]),n("el-date-picker",{staticClass:"time-search",staticStyle:{width:"350px"},attrs:{type:"datetimerange",align:"right",size:"small","start-placeholder":t.$L("开始日期"),"end-placeholder":t.$L("结束日期"),"value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},on:{change:t.SearchTimeFunc},model:{value:t.SearchTimeZone,callback:function(e){t.SearchTimeZone=e},expression:"SearchTimeZone"}})],1)]),n("div",{staticClass:"prize-content"},[n("div",{staticClass:"prizeList"},[n("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData.list,"empty-text":t.$L("暂无数据"),"header-cell-style":{background:"#f0f1f5",color:"#666"}}},[n("el-table-column",{attrs:{prop:"info",label:t.$L("奖品信息"),align:"left",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[t.$route.params.hasOwnProperty("type")&&"point"==t.$route.params.type?n("img",{staticClass:"img",attrs:{src:a("dc43"),alt:""}}):t.$route.params.hasOwnProperty("type")&&"coupon"==t.$route.params.type?n("img",{staticClass:"img",attrs:{src:a("a3fc"),alt:""}}):n("img",{staticClass:"img",attrs:{src:e.row.pic,alt:""}}),n("div",{staticClass:"textBox"},[n("p",{staticClass:"orderColor"},[t._v(t._s(e.row.name))]),n("p",{staticClass:"gray"},[t._v(t._s(t.$L("订单号"))+"："+t._s(e.row.sn))])])])}}])}),n("el-table-column",{attrs:{prop:"time",label:t.$L("时间"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{staticClass:"gray"},[t._v("\n                        "+t._s(e.row.time)+"\n                    ")])}}])}),n("el-table-column",{attrs:{prop:"source",label:t.$L("来源"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[n("p",[t._v(t._s(t.fromTypeFunc(e.row.from).text))]),1==e.row.type?n("p",[t._v(t._s(t.$L("礼品")))]):2==e.row.type?n("p",[t._v(t._s(t.$L("优惠券")))]):3==e.row.type?n("p",[t._v(t._s(t.$L("积分")))]):n("p",[t._v(t._s(t.$L("产品")))])])}}])}),t.$route.params.hasOwnProperty("type")&&"point"!==t.$route.params.type&&"coupon"!==t.$route.params.type?n("el-table-column",{attrs:{prop:"status",label:t.$L("状态"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[n("p",{class:t.stateTypeFunc(e.row.deliveryStatus,e.row.status).color},[t._v(t._s(t.stateTypeFunc(e.row.deliveryStatus,e.row.status).text))])])}}],null,!1,3171818468)}):t._e(),n("el-table-column",{attrs:{prop:"handle",label:t.$L("操作"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return n("div",{},[0==e.row.status&&2!==e.row.type&&3!==e.row.type?n("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.applyFunc(e.row.id,e.row.type,e.row.from,e.row.prizeRecordId,e.row.product_type)}}},[t._v(t._s(t.$L("申请领奖")))]):t._e(),2==e.row.deliveryStatus?n("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.confirmFunc(e.row.id)}}},[t._v(t._s(t.$L("确认收货")))]):1==e.row.status&&2!==e.row.type&&3!==e.row.type?n("span",[n("p",{staticClass:"details mainFontColor",on:{click:function(a){return t.getInfoFunc(e.row.id,e.row.product_type)}}},[t._v(t._s(t.$L("订单详情")))])]):t._e(),2===e.row.type?n("el-button",{attrs:{type:"primary"},on:{click:t.goCoupon}},[t._v(t._s(t.$L("查看优惠券")))]):t._e(),3===e.row.type?n("el-button",{attrs:{type:"primary"},on:{click:t.goPoint}},[t._v(t._s(t.$L("查看积分")))]):t._e()],1)}}])})],1)],1),null!==t.tableData.list&&t.tableData.allNum>0?n("div",{staticClass:"list-pages"},[n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"prev, pager, next, total, jumper",total:t.tableData.allNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()])])},r=[],o=a("4e71"),i={name:"prize",components:{exchangeBox:o["a"]},data:function(){return{loading:!0,errorType:"error",errorTitle:this.$L("出错了"),errorTips:null,errorShow:!1,value1:"",SearchTimeZone:"",messageType:"all",messageTypelist:[{type:"all",name:this.$L("全部状态")},{type:"applyPrize",name:this.$L("未申请领奖")},{type:"picking",name:this.$L("等待卖家发货")},{type:"noFinish",name:this.$L("卖家已发货，等待确认")},{type:"finish",name:this.$L("订单已完成")}],dtCreateStart:"",dtCreateEnd:"",tableData:{},currentPage:1,pageSize:20}},props:{},beforeRouteUpdate:function(t,e,a){this.getData(t),a()},created:function(){this.getData()},methods:{showError:function(t,e,a){this.errorType="warning"===a?"warning":"error",this.errorTitle=t&&""!==t?t:this.$L("出错了"),this.errorTips=e&&""!==e?e:null,this.loading=!1,this.errorShow=!0},getData:function(t){var e=this;t||(t=e.$route),e.loading=!0;var a={p:e.currentPage,num:e.pageSize,status:t.params.type?t.params.type:"prod",dtCreateStart:e.dtCreateStart,dtCreateEnd:e.dtCreateEnd,type:e.messageType};e.$api("getPrizeList",a,(function(t){1===t.flag?(e.tableData=t.data,e.loading=!1):-1===t.flag?e.$confirm(e.$L("请重新登录"),e.$L("登录超时"),{confirmButtonText:e.$L("重新登录"),cancelButtonText:e.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.$router.push({name:"login",query:{redirect:e.$route.fullPath}})})).catch((function(t){e.$gotoWebHome()})):e.$confirm(e.$L("数据加载失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"home"})}))}),(function(t){e.$confirm(e.$L("网络请求失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"home"})}))}))},goCoupon:function(){this.$router.push({name:"couponList"})},goPoint:function(){this.$router.push({name:"integralPoint"})},getInfoFunc:function(t,e){this.$router.push({name:"prizeInfo",params:{id:t,ptype:e}})},changeTypeFunc:function(t){this.messageType=t,this.getData()},searchFunc:function(t){this.inputValue=t,this.getData()},handleCurrentChange:function(t){this.currentPage=t,this.getData()},handleSizeChange:function(t){this.pageSize=t,this.getData()},handleSelectionChange:function(t){var e=[];for(var a in t)e[a]=t[a].id;this.msgArr=e},stateTypeFunc:function(t,e){var a;return-1==e?a={text:this.$L("订单已关闭"),color:"green"}:3==t?a={text:this.$L("订单已完成"),color:"green"}:2==t?a={text:this.$L("已发货"),color:"green"}:1==t?a={text:this.$L("配货中"),color:"green"}:0==t&&0==e?a={text:this.$L("未申请领取"),color:"red"}:0==t&&1==e?a={text:this.$L("等待配货"),color:"green"}:1==e?a={text:this.$L("已确认订单"),color:"green"}:0==e&&(a={text:this.$L("未领取"),color:"red"}),a},fromTypeFunc:function(t){var e;return 1==t?e={text:this.$L("大转盘")}:2==t&&(e={text:this.$L("刮刮卡")}),e},SearchTimeFunc:function(t){null!==t?(this.dtCreateStart=t[0],this.dtCreateEnd=t[1]):(this.dtCreateStart="",this.dtCreateEnd=""),this.getData()},confirmFunc:function(t){var e=this,a=t;e.$confirm(e.$L("是否确认收货?"),e.$L("提示"),{confirmButtonText:e.$L("确定"),cancelButtonText:e.$L("取消"),type:"warning"}).then((function(){e.$api("updatePrizeStatus",{prizeId:a},(function(t){1===t.flag?(e.$message({type:"success",message:e.$L("确认收货成功!")}),e.loading=!1,e.getData()):-1===t.flag?e.$confirm(e.$L("请重新登录"),e.$L("登录超时"),{confirmButtonText:e.$L("重新登录"),cancelButtonText:e.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.$router.push({name:"login",query:{redirect:e.$route.fullPath}})})).catch((function(t){e.$gotoWebHome()})):(console.log(t),e.$confirm(e.$L("数据加载失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"home"})})))}),(function(t){console.log(t),e.$confirm(e.$L(t.msg),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"home"})}))}))}))},applyFunc:function(t,e,a,n,r){var i=this,s=this;s.$confirm(s.$L("是否申请领奖?"),s.$L("提示"),{confirmButtonText:s.$L("确定"),cancelButtonText:s.$L("取消"),type:"warning"}).then((function(){i.$store.commit("setDialogObj",{name:i.$L("立即兑换"),view:o["a"],width:"1000px",height:"600px",data:{id:t,recordId:n,ptype:e,form:a,product_type:r}})}))}}},s=i,c=(a("f93c"),a("4023")),u=Object(c["a"])(s,n,r,!1,null,"f9870db4",null);e["default"]=u.exports},"4e71":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ex-chang-box"},[a("iframe",{ref:"ifr",staticClass:"windows",style:{height:t.height},attrs:{src:t.url},on:{load:t.onLoad}})])},r=[],o={name:"exchangeBox",inject:["reload"],props:{height:{type:String,default:""},loading:{type:Boolean,default:!1},data:{type:Object,default:{}},listener:{type:Object,default:function(){return{}}}},created:function(){},watch:{listener:function(t,e){t&&t.hasOwnProperty("order")&&this.exChangeListen(t.order)}},computed:{url:{get:function(){var t=this.data.hasOwnProperty("form")?this.data.form:0,e=this.data.hasOwnProperty("ptype")?this.data.ptype:0,a=this.data.hasOwnProperty("recordId")?this.data.recordId:0,n=this.data.hasOwnProperty("product_type")?this.data.product_type:0;return this.$C("serverUrlAjax")+"/exusers/get_prize.php?ptype="+e+"&lot_record_id="+a+"&idweb="+this.$getWebId()+"&prize_from="+t+"+&lang="+this.$lang()+"&product_type="+n+"&v=9"}}},methods:{onLoad:function(){this.$refs.ifr.contentWindow.postMessage({msg:"isVue"},this.$C("serverUrlAjax"))},exChangeListen:function(t,e){switch(t){case"reloadView":this.$emit("closeDialog"),this.reload();break;case"home":this.$emit("closeDialog"),this.$router.push({name:"home"});break}}}},i=o,s=(a("c8e7"),a("4023")),c=Object(s["a"])(i,n,r,!1,null,"4a31ff60",null);e["a"]=c.exports},a3fc:function(t,e){t.exports="data:image/png;base64,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"},c8e7:function(t,e,a){"use strict";var n=a("c907"),r=a.n(n);r.a},c907:function(t,e,a){},dc43:function(t,e,a){t.exports=a.p+"img/jifen.371f8d5f.png"},f93c:function(t,e,a){"use strict";var n=a("0146"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-28fff01d.789cfe77.js.map