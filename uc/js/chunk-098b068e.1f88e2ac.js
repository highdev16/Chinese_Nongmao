(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-098b068e"],{"150a":function(t,e,a){},"1e51":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tabList&&t.tabList.hasOwnProperty("list")&&t.tabList.list.length>0?a("div",{staticClass:"rank-tab"},[a("el-button-group",{staticClass:"btn-group"},t._l(t.tabList.list,(function(e,n){return a("el-button",{key:n,staticClass:"btn-item",attrs:{type:t.tabList.type==e.type?"primary":"default",size:"small"},on:{click:function(t){"function"===typeof e.func&&e.func()}}},[t._v(t._s(e.text))])})),1)],1):t._e()},r=[],s={name:"rankTab",props:{tabList:{type:Object,default:function(){return{}}}}},i=s,l=(a("7929"),a("4023")),o=Object(l["a"])(i,n,r,!1,null,null,null);e["a"]=o.exports},7929:function(t,e,a){"use strict";var n=a("150a"),r=a.n(n);r.a},aa39:function(t,e,a){},d9d8:function(t,e,a){"use strict";var n=a("aa39"),r=a.n(n);r.a},ffe4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[t.tableData?a("div",{staticClass:"list-top"},[a("rank-tab",{attrs:{"tab-list":t.theadName}}),a("div",{staticClass:"right-font"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.$L("输入订单编号"),size:"small",clearable:""},on:{change:t.searchFunc},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)],1):t._e(),t.tableData&&t.tableData.hasOwnProperty("list")?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{data:t.tableData.list,"empty-text":t.$L("暂无数据"),"header-cell-style":{background:"#f0f1f5",padding:"10px",color:"#666"}},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"orderSn",label:t.$L("订单编号"),align:"left",width:"200"}}),a("el-table-column",{attrs:{prop:"prod",label:t.$L("商品"),align:"left",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"details"},t._l(e.row.productList,(function(e,n){return a("div",{key:n,staticClass:"item"},[a("img",{staticClass:"img",attrs:{src:e.img}}),a("div",{staticClass:"msg"},[a("p",{staticClass:"tit mainFontColor"},[t._v(t._s(e.prodName))])])])})),0)}}],null,!1,1413379207)}),a("el-table-column",{attrs:{prop:"username",label:t.$L("购买用户"),align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"relation",label:t.$L("分销关系"),align:"center"}}),a("el-table-column",{attrs:{prop:"orderAmount",label:t.$L(" 实付金额"),sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"addTime",label:t.$L("下单时间"),sortable:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[e.row.addTime?a("span",[t._v("\n                        "+t._s(t.timeFunc(e.row.addTime)[0])),a("br"),t._v("\n                        "+t._s(t.timeFunc(e.row.addTime)[1])+"\n                    ")]):a("span",[t._v("-")])])}}],null,!1,3356645464)}),a("el-table-column",{attrs:{prop:"payTime",label:t.$L("支付时间"),sortable:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[e.row.payTime?a("span",[t._v("\n                        "+t._s(t.timeFunc(e.row.payTime)[0])),a("br"),t._v("\n                        "+t._s(t.timeFunc(e.row.payTime)[1])+"\n                    ")]):a("span",[t._v("-")])])}}],null,!1,4150763569)}),a("el-table-column",{attrs:{prop:"commissionPrice",label:t.$L("产生佣金"),sortable:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[t._v("\n                    "+t._s(e.row.commissionPrice)+"\n                ")])}}],null,!1,1204779869)}),a("el-table-column",{attrs:{prop:"status",label:t.$L("结算状态"),align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"status"},[a("span",{class:t.statusFunc(e.row.pendingStatus).color},[t._v(t._s(t.statusFunc(e.row.pendingStatus).text))])])}}],null,!1,3033550784)})],1),t.tableData.allNum>t.pageSize?a("div",{staticClass:"list-pages"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.tableData.allNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1):t._e()])},r=[],s=(a("9a33"),a("1e51")),i={name:"order",components:{rankTab:s["a"]},data:function(){var t=this;return{loading:!0,errorType:"error",errorTitle:this.$L("出错了"),errorTips:null,errorShow:!1,inputValue:"",theadName:{type:"all",list:[{text:this.$L("全部订单"),type:"all",func:function(){t.$route.params.hasOwnProperty("id")?t.$router.push({params:{type:"all",id:t.$route.params.id}}):t.$router.push({params:{type:"all"}})}},{text:this.$L("已结算"),type:"settlement",func:function(){t.$route.params.hasOwnProperty("id")?t.$router.push({params:{type:"settlement",id:t.$route.params.id}}):t.$router.push({params:{type:"settlement"}})}},{text:this.$L("未结算"),type:"unSettlement",func:function(){t.$route.params.hasOwnProperty("id")?t.$router.push({params:{type:"unSettlement",id:t.$route.params.id}}):t.$router.push({params:{type:"unSettlement"}})}}]},tableData:{},pageSize:20,currentPage:1,userId:"",sortBy:"",name:""}},beforeRouteUpdate:function(t,e,a){this.currentPage=1,this.getData(t),a()},created:function(){this.getData()},methods:{getData:function(t){var e=this;e.loading=!0,t||(t=e.$route),e.theadName.type=t.params.hasOwnProperty("type")?t.params.type:"all",e.userId=t.params.hasOwnProperty("id")?t.params.id:"";var a={p:e.currentPage,num:e.pageSize,settlementStatus:e.theadName.type,keyword:e.inputValue,userId:e.userId};e.$api("distributionOrder",a,(function(t){1===t.flag?(e.tableData=t.data,e.loading=!1):-1===t.flag?e.$confirm(e.$L("请重新登录"),e.$L("登录超时"),{confirmButtonText:e.$L("重新登录"),cancelButtonText:e.$L("取消"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.$router.push({name:"login",query:{redirect:e.$route.fullPath}})})).catch((function(t){e.$gotoWebHome()})):e.$confirm(e.$L("数据加载失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回我的分销"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"distributorList"})}))}),(function(t){e.$confirm(e.$L("网络请求失败"),e.$L("出错了"),{confirmButtonText:e.$L("点击重试"),cancelButtonText:e.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){e.getData()})).catch((function(t){e.$router.push({name:"home"})}))}))},handleSizeChange:function(t){this.pageSize=t,this.getData()},handleCurrentChange:function(t){this.currentPage=t,this.getData()},searchFunc:function(t){this.inputValue=t,this.getData()},statusFunc:function(t){var e;switch(t){case 0:e={text:this.$L("未结算"),color:"font-red"};break;default:e={text:this.$L("已结算"),color:"font-green"};break}return e},sortChange:function(t,e,a){this.sortBy=t.prop,this.getData()},timeFunc:function(t){var e=t.split(" ");return e}}},l=i,o=(a("d9d8"),a("4023")),u=Object(o["a"])(l,n,r,!1,null,"24add1ac",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-098b068e.1f88e2ac.js.map