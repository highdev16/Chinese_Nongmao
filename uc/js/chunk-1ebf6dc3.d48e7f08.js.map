{"version":3,"sources":["webpack:///./src/views/web/reservationChildren/reservationInfo.vue?6e50","webpack:///src/views/web/reservationChildren/reservationInfo.vue","webpack:///./src/views/web/reservationChildren/reservationInfo.vue?7379","webpack:///./src/views/web/reservationChildren/reservationInfo.vue","webpack:///./src/views/web/reservationChildren/reservationInfo.vue?3112"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","_s","$L","listData","orderSn","statusDetail","prepaidFunc","moneyPaid","attrs","stepStatus","addTime","_l","item","staticStyle","goodsArr","background","padding","color","scopedSlots","_u","key","fn","scope","row","pic","goodsName","domProps","goodsSpec","goodsPrice","type","order_status","commentStatus","orderAmount","discount","prepaidAmount","on","backFunc","payStatus","$event","changeOrderType","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-1ebf6dc3.d48e7f08.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.listData)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"reservation-info\"},[_c('div',{staticClass:\"content-top\"},[_c('p',{staticClass:\"order-sn\"},[_vm._v(_vm._s(_vm.$L('订单编号'))+\"：\"+_vm._s(_vm.listData.orderSn))]),(_vm.listData.statusDetail == '预约已取消')?_c('div',{staticClass:\"order-sn\"},[_vm._v(_vm._s(_vm.$L('订单状态'))+\":：\"+_vm._s(_vm.listData.statusDetail))]):(_vm.prepaidFunc(_vm.listData.moneyPaid))?_c('el-steps',{staticClass:\"steps\",attrs:{\"active\":_vm.stepStatus,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":_vm.$L('提交订单'),\"description\":_vm.listData.addTime}}),_c('el-step',{attrs:{\"title\":_vm.$L('支付预定金')}}),_c('el-step',{attrs:{\"title\":_vm.$L('到店服务')}}),_c('el-step',{attrs:{\"title\":_vm.$L('评价')}})],1):_c('el-steps',{staticClass:\"steps\",attrs:{\"active\":_vm.stepStatus,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":_vm.$L('提交订单'),\"description\":_vm.listData.addTime}}),_c('el-step',{attrs:{\"title\":_vm.$L('到店服务')}}),_c('el-step',{attrs:{\"title\":_vm.$L('评价')}})],1)],1),_c('div',{staticClass:\"order-details\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$L('订单信息')))]),_c('ul',{staticClass:\"order-ul\"},_vm._l((_vm.listData.fromDetail),function(item){return _c('li',{staticClass:\"order-li\"},[_c('span',[_vm._v(_vm._s(item))])])}),0)]),_c('div',{staticClass:\"prod-info\"},[_c('el-table',{staticClass:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData.goodsArr,\"header-cell-style\":{background:'#f0f1f5',padding:'10px',color:'#666'}}},[_c('el-table-column',{attrs:{\"label\":_vm.$L('产品信息'),\"align\":\"left\",\"min-width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"list-main-left\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":scope.row.pic,\"alt\":\"\"}})]),_c('div',{staticClass:\"list-main-right\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(scope.row.goodsName))]),_c('p',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(scope.row.goodsSpec)}})])])}}],null,false,2037013286)}),_c('el-table-column',{attrs:{\"label\":_vm.$L('价格'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_vm._v(\"\\n                    \"+_vm._s(scope.row.goodsPrice)+\"\\n                \")])}}],null,false,1216661312)}),_c('el-table-column',{attrs:{\"label\":_vm.$L('类型'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_vm._v(\"\\n                    \"+_vm._s(scope.row.type)),_c('br')])}}],null,false,932792253)}),_c('el-table-column',{attrs:{\"label\":_vm.$L('状态'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"status\"},[(_vm.listData.order_status === 1)?_c('div',{staticClass:\"font font-red\"},[_vm._v(_vm._s(_vm.$L('待处理')))]):(_vm.listData.order_status === 2)?_c('div',{staticClass:\"font\"},[_vm._v(_vm._s(_vm.$L('已消费')))]):(_vm.listData.order_status === 3)?_c('div',{staticClass:\"font\"},[_vm._v(_vm._s(_vm.$L('已取消预约')))]):(_vm.listData.order_status === 4 && _vm.listData.commentStatus === 0)?_c('div',{staticClass:\"font\"},[_vm._v(_vm._s(_vm.$L('待评价')))]):(_vm.listData.order_status === 4 && _vm.listData.commentStatus === 1)?_c('div',{staticClass:\"font\"},[_vm._v(_vm._s(_vm.$L('已评价')))]):(_vm.listData.order_status === 5)?_c('div',{staticClass:\"font\"},[_vm._v(_vm._s(_vm.$L('已逾期')))]):_c('div',{staticClass:\"font\"},[_vm._v(_vm._s(_vm.$L('未知状态')))])])}}],null,false,2827355914)})],1)],1),_c('div',{staticClass:\"prod-bottom\"},[_c('div',{staticClass:\"right-box\"},[_c('ul',{staticClass:\"ul\"},[_c('li',{staticClass:\"li\"},[_c('span',[_vm._v(_vm._s(_vm.$L('订单总额'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.listData.orderAmount))])]),_c('li',{staticClass:\"li\"},[_c('span',[_vm._v(_vm._s(_vm.$L('店铺优惠'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.listData.discount))])]),_c('li',{staticClass:\"li\"},[_c('span',[_vm._v(_vm._s(_vm.$L('到店支付'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.listData.prepaidAmount))])]),_c('li',{staticClass:\"li\"},[_c('span',{staticClass:\"font-black\"},[_vm._v(_vm._s(_vm.$L('预付金额'))+\":\")]),_c('span',{staticClass:\"font-red\"},[_vm._v(_vm._s(_vm.listData.moneyPaid))])])])])]),_c('div',{staticClass:\"bottom-btns\"},[_c('el-button',{on:{\"click\":_vm.backFunc}},[_vm._v(_vm._s(_vm.$L('返回')))]),(_vm.listData.order_status === 1 && _vm.listData.payStatus === 0)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changeOrderType(_vm.listData,'pay')}}},[_vm._v(_vm._s(_vm.$L('立即支付')))]):_vm._e(),(_vm.listData.order_status === 1)?_c('el-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.changeOrderType(_vm.listData,'cancel')}}},[_vm._v(_vm._s(_vm.$L('取消预约')))]):(_vm.listData.order_status >= 3)?_c('el-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.changeOrderType(_vm.listData,'del')}}},[_vm._v(_vm._s(_vm.$L('删除订单')))]):_vm._e(),(_vm.listData.order_status >= 3 && _vm.listData.commentStatus === 0)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changeOrderType(_vm.listData,'evaluate')}}},[_vm._v(_vm._s(_vm.$L('去评价')))]):_vm._e(),(_vm.listData.order_status >= 3 && _vm.listData.commentStatus === 1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changeOrderType(_vm.listData,'evaluateInfo')}}},[_vm._v(_vm._s(_vm.$L('查看评价')))]):_vm._e()],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"reservation-info\" v-loading=\"loading\"  v-if=\"listData\">\r\n        <div class=\"content-top\">\r\n            <p class=\"order-sn\">{{ $L('订单编号') }}：{{ listData.orderSn }}</p>\r\n            <div class=\"order-sn\" v-if=\"listData.statusDetail == '预约已取消'\">{{ $L('订单状态') }}:：{{ listData.statusDetail }}</div>\r\n            <el-steps :active=\"stepStatus\" finish-status=\"success\" class=\"steps\" v-else-if=\"prepaidFunc(listData.moneyPaid)\">\r\n                <el-step :title=\"$L('提交订单')\" :description=\"listData.addTime\"></el-step>\r\n                <el-step :title=\"$L('支付预定金')\"></el-step>\r\n                <el-step :title=\"$L('到店服务')\"></el-step>\r\n                <el-step :title=\"$L('评价')\"></el-step>\r\n            </el-steps>\r\n            <el-steps :active=\"stepStatus\" finish-status=\"success\" class=\"steps\" v-else>\r\n                <el-step :title=\"$L('提交订单')\" :description=\"listData.addTime\"></el-step>\r\n                <el-step :title=\"$L('到店服务')\"></el-step>\r\n                <el-step :title=\"$L('评价')\"></el-step>\r\n            </el-steps>\r\n        </div>\r\n        <div class=\"order-details\">\r\n            <p class=\"title\">{{ $L('订单信息') }}</p>\r\n            <ul class=\"order-ul\">\r\n                <li class=\"order-li\" v-for=\"item in listData.fromDetail\">\r\n                    <span>{{ item }}</span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"prod-info\">\r\n            <el-table\r\n                    :data=\"listData.goodsArr\"\r\n                    :header-cell-style=\"{background:'#f0f1f5',padding:'10px',color:'#666'}\"\r\n                    style=\"width: 100%\" class=\"table\">\r\n                <el-table-column\r\n                        :label=\"$L('产品信息')\"\r\n                        align=\"left\"\r\n                        min-width=\"200\">\r\n                    <div slot-scope=\"scope\" class=\"info\">\r\n                        <div class=\"list-main-left\">\r\n                            <img class=\"img\" :src=\"scope.row.pic\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"list-main-right\">\r\n                            <p class=\"name\">{{scope.row.goodsName}}</p>\r\n                            <p class=\"name\" v-html=\"scope.row.goodsSpec\"></p>\r\n                        </div>\r\n                    </div>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :label=\"$L('价格')\"\r\n                        align=\"center\">\r\n                    <div slot-scope=\"scope\">\r\n                        {{ scope.row.goodsPrice }}\r\n                    </div>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :label=\"$L('类型')\"\r\n                        align=\"center\">\r\n                    <div slot-scope=\"scope\">\r\n                        {{ scope.row.type }}<br>\r\n                    </div>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        :label=\"$L('状态')\"\r\n                        align=\"center\">\r\n                    <div slot-scope=\"scope\" class=\"status\">\r\n                        <div v-if=\"listData.order_status === 1\" class=\"font font-red\">{{$L('待处理')}}</div>\r\n                        <div v-else-if=\"listData.order_status === 2\" class=\"font\">{{$L('已消费')}}</div>\r\n                        <div v-else-if=\"listData.order_status === 3\" class=\"font\">{{$L('已取消预约')}}</div>\r\n                        <div v-else-if=\"listData.order_status === 4 && listData.commentStatus === 0\" class=\"font\">{{$L('待评价')}}</div>\r\n                        <div v-else-if=\"listData.order_status === 4 && listData.commentStatus === 1\" class=\"font\">{{$L('已评价')}}</div>\r\n                        <div v-else-if=\"listData.order_status === 5\" class=\"font\">{{$L('已逾期')}}</div>\r\n                        <div v-else class=\"font\">{{$L('未知状态')}}</div>\r\n                    </div>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <div class=\"prod-bottom\">\r\n            <div class=\"right-box\">\r\n                <ul class=\"ul\">\r\n                    <li class=\"li\"><span>{{ $L('订单总额') }}:</span><span>{{ listData.orderAmount }}</span></li>\r\n                    <li class=\"li\"><span>{{ $L('店铺优惠') }}:</span><span>{{ listData.discount }}</span></li>\r\n                    <li class=\"li\"><span>{{ $L('到店支付') }}:</span><span>{{ listData.prepaidAmount }}</span></li>\r\n                    <li class=\"li\"><span class=\"font-black\">{{ $L('预付金额') }}:</span><span class=\"font-red\">{{ listData.moneyPaid }}</span></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"bottom-btns\">\r\n            <el-button @click=\"backFunc\">{{ $L('返回') }}</el-button>\r\n            <el-button type=\"primary\" v-if=\"listData.order_status === 1 && listData.payStatus === 0\" @click=\"changeOrderType(listData,'pay')\">{{$L('立即支付')}}</el-button>\r\n            <el-button type=\"default\" v-if=\"listData.order_status === 1\"  @click=\"changeOrderType(listData,'cancel')\">{{$L('取消预约')}}</el-button>\r\n            <el-button type=\"default\" v-else-if=\"listData.order_status >= 3\"  @click=\"changeOrderType(listData,'del')\">{{$L('删除订单')}}</el-button>\r\n            <el-button type=\"primary\" v-if=\"listData.order_status >= 3 && listData.commentStatus === 0\"  @click=\"changeOrderType(listData,'evaluate')\">{{$L('去评价')}}</el-button>\r\n            <el-button type=\"primary\" v-if=\"listData.order_status >= 3 && listData.commentStatus === 1\"  @click=\"changeOrderType(listData,'evaluateInfo')\">{{$L('查看评价')}}</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"reservationInfo\",\r\n        data () {\r\n            return {\r\n                loading: true,\r\n                errorType: 'error',\r\n                errorTitle: this.$L('出错了'),\r\n                errorTips: null,\r\n                errorShow: false,\r\n                listData:{},\r\n                stepStatus:1\r\n            }\r\n        },\r\n        created (){\r\n            this.getData();\r\n        },\r\n        methods : {\r\n            showError(title, tips, type) {\r\n                if (type === 'warning') {\r\n                    this.errorType = 'warning';\r\n                } else {\r\n                    this.errorType = 'error';\r\n                }\r\n                if (title && title !== '') {\r\n                    this.errorTitle = title;\r\n                } else {\r\n                    this.errorTitle = this.$L('出错了');\r\n                }\r\n                if (tips && tips !== '') {\r\n                    this.errorTips = tips;\r\n                } else {\r\n                    this.errorTips = null;\r\n                }\r\n                this.loading = false;\r\n                this.errorShow = true;\r\n            },\r\n            getData (){\r\n                if(this.$route.params.id !==''){\r\n                    const _self = this;\r\n                    _self.loading = true;\r\n                    let id = _self.$route.params.id;\r\n                    _self.$api('bookOrderInfo', {bookId:id} , function (reData) {\r\n                        if (reData.flag === 1) {\r\n                            _self.listData = reData.data;\r\n                            _self.stepFunc(_self.listData.statusDetail,_self.prepaidFunc(_self.listData.moneyPaid));\r\n                            _self.loading = false;\r\n                        } else if (reData.flag === -1) {\r\n                            //登录超时了\r\n                            _self.$confirm(_self.$L('请重新登录'), _self.$L('登录超时'), {\r\n                                confirmButtonText: _self.$L('重新登录'),\r\n                                cancelButtonText: _self.$L('取消'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.$router.push({name: 'login', query: {redirect: _self.$route.fullPath}});\r\n                            }).catch(action => {\r\n                                _self.$gotoWebHome();\r\n                            });\r\n                        } else {\r\n                            //未知错误\r\n                            _self.$confirm(_self.$L('数据加载失败'), _self.$L('出错了'), {\r\n                                confirmButtonText: _self.$L('点击重试'),\r\n                                cancelButtonText: _self.$L('返回首页'),\r\n                                type: 'error',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                _self.getData();\r\n                            }).catch(action => {\r\n                                _self.$router.push({name: 'reservation',params: {type: 'all'}});\r\n                            });\r\n                        }\r\n                    }, function (error) {\r\n                        //网络请求错误\r\n                        _self.$confirm(_self.$L('网络请求失败'), _self.$L('出错了'), {\r\n                            confirmButtonText: _self.$L('点击重试'),\r\n                            cancelButtonText: _self.$L('返回首页'),\r\n                            type: 'error',\r\n                            distinguishCancelAndClose: true\r\n                        }).then(() => {\r\n                            _self.getData();\r\n                        }).catch(action => {\r\n                            _self.$router.push({name: 'reservation',params: {type: 'all'}});\r\n                        });\r\n                    });\r\n                }\r\n\r\n            },\r\n            statusFunc(value){\r\n                let x;\r\n                switch(value){\r\n                    case 0:\r\n                        x = {text:this.$L('待付款'),color:'font-red'};\r\n                        break;\r\n                    default:\r\n                        x = {text:this.$L('已付款'),color:'font-green'};\r\n                        break;\r\n                }\r\n                return x;\r\n            },\r\n            changeOrderType(item, status) {\r\n                switch (status) {\r\n                    case 'pay':\r\n                        //立即付款\r\n                        if(item.order_status === 0 || item.pay_status === 1){\r\n                            this.$store.commit('setDialogObj', {\r\n                                name: this.$L('订单支付'),\r\n                                view: orderPay,\r\n                                width: '900px',\r\n                                loading: true\r\n                            });\r\n                        }\r\n                        break;\r\n                    case 'cancel':\r\n                        //取消订单\r\n                        if (item.order_status === 1) {\r\n                            this.$confirm(this.$L('确认取消订单吗？'), this.$L('取消订单'), {\r\n                                confirmButtonText: this.$L('立即取消'),\r\n                                cancelButtonText: this.$L('我再想想'),\r\n                                type: 'warning',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                this.showLoad(true);\r\n                                this.$api('cancleReservation', {\r\n                                    orderId: item.orderId,\r\n                                }, (reData) => {\r\n                                    this.showLoad(false);\r\n                                    if (reData && reData.flag === 1) {\r\n                                        this.$message.success(this.$L('操作成功！'));\r\n                                        this.getData();\r\n                                    } else {\r\n                                        console.log(reData);\r\n                                        this.$message.error(this.$L('操作失败！请稍后重试！'));\r\n                                    }\r\n                                }, (error) => {\r\n                                    console.log(error);\r\n                                    this.$message.error(this.$L('操作失败！请稍后重试！'));\r\n                                    this.showLoad(false);\r\n                                });\r\n                            }).catch(action => {\r\n\r\n                            });\r\n                        }\r\n                        break;\r\n                    case 'del':\r\n                        //删除订单\r\n                        if (item.order_status >= 3) {\r\n                            this.$confirm(this.$L('是否确认删除订单？'), this.$L('删除订单'), {\r\n                                confirmButtonText: this.$L('立即删除'),\r\n                                cancelButtonText: this.$L('我再想想'),\r\n                                type: 'warning',\r\n                                distinguishCancelAndClose: true\r\n                            }).then(() => {\r\n                                this.showLoad(true);\r\n                                this.$api('delReservation', {\r\n                                    orderId: item.orderId,\r\n                                }, (reData) => {\r\n                                    this.showLoad(false);\r\n                                    if (reData && reData.flag === 1) {\r\n                                        this.$message.success(this.$L('操作成功！'));\r\n                                        this.getData();\r\n                                    } else {\r\n                                        console.log(reData);\r\n                                        this.$message.error(this.$L('操作失败！请稍后重试！'));\r\n                                    }\r\n                                }, (error) => {\r\n                                    console.log(error);\r\n                                    this.$message.error(this.$L('操作失败！请稍后重试！'));\r\n                                    this.showLoad(false);\r\n                                });\r\n                            }).catch(action => {\r\n\r\n                            });\r\n                        }\r\n                        break;\r\n                    case 'evaluate':\r\n                        //去评价\r\n                        if (item.order_status >= 3 && item.commentStatus === 0) {\r\n                            this.$router.push({name: \"resOrderComment\", params: {id: item.orderId}});\r\n                        }\r\n                        break;\r\n                    case 'evaluateInfo':\r\n                        //去评价\r\n                        if (item.order_status >= 3 && item.commentStatus === 1) {\r\n                            this.$router.push({name: \"resCheckComment\", params: {id: item.orderId}});\r\n                        }\r\n                        break;\r\n                }\r\n            },\r\n            showLoad(type) {\r\n                if (typeof type === \"undefined\" || type) {\r\n                    this.loading = this.$loading({lock: true});\r\n                } else {\r\n                    if (this.loading) {\r\n                        this.loading.close();\r\n                        this.loading = null;\r\n                    }\r\n                }\r\n            },\r\n            backFunc() {\r\n                this.$router.back(-1);\r\n            },\r\n            prepaidFunc(num){\r\n                let val = parseInt(String(num).replace(/￥|$/,''));\r\n                if(val > 0){\r\n                    return val\r\n                }else{\r\n                    return ''\r\n                }\r\n            },\r\n            stepFunc(key,prepaid){\r\n\r\n                switch (key) {\r\n                    case '预约待处理':\r\n                        this.stepStatus = 1;\r\n                        break;\r\n                    case '预约已消费':\r\n                        if(prepaid > 0){\r\n                            this.stepStatus = 3;\r\n                        }else{\r\n                            this.stepStatus = 2;\r\n                        }\r\n                        break;\r\n                    case '预约已完成':\r\n                        this.stepStatus = 4;\r\n                        break;\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n     .reservation-info{\r\n         width: 100%;\r\n         padding: 20px !important;\r\n         /*top: 0;*/\r\n         .content-top {\r\n             padding: 20px;\r\n             background: #fff;\r\n             .order-sn {\r\n                 font-size: 14px;\r\n                 display: inline-block;\r\n                 width: 50%;\r\n             }\r\n             .steps {\r\n                 margin-top: 20px;\r\n             }\r\n         }\r\n         .order-details {\r\n             margin: 20px 0 20px;\r\n             padding: 20px;\r\n             background: #fff;\r\n             .title {\r\n                 font-weight: 700;\r\n                 margin-bottom: 20px;\r\n                 font-size: 14px;\r\n             }\r\n             .order-ul {\r\n                 width: 100%;\r\n                 .order-li {\r\n                     padding-bottom: 20px;\r\n                 }\r\n             }\r\n\r\n         }\r\n         .prod-info{\r\n             margin-top: 10px;\r\n             background: #fff;\r\n             padding: 20px;\r\n             .table{\r\n                 width: 100%;\r\n                 .info{\r\n                     .list-main-left{\r\n                         height: 100px;\r\n                         float: left;\r\n                         .img{\r\n                             width: 100px;\r\n                             height: 100px;\r\n                         }\r\n                     }\r\n                     .list-main-right{\r\n                         float: left;\r\n                         padding-left: 15px;\r\n                         width: calc(100% - 120px);\r\n                         .name{\r\n                             cursor: pointer;\r\n                             overflow:hidden;\r\n                             display:-webkit-box;\r\n                             text-overflow:ellipsis;\r\n                             -webkit-line-clamp:2;\r\n                             -webkit-box-orient:vertical;\r\n                             white-space:normal;\r\n                             font-size: 14px;\r\n                         }\r\n                     }\r\n                 }\r\n                 .status{\r\n                     .font-red{\r\n                         color: red;\r\n                         padding: 10px 0;\r\n                     }\r\n                     .font{\r\n                         padding: 10px 0;\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n         .prod-bottom{\r\n             height: 200px;\r\n             position: relative;\r\n             background: #fff;\r\n             .right-box{\r\n                 position: absolute;\r\n                 right: 0;\r\n                 width: 400px;\r\n                 .ul{\r\n                     .li{\r\n                         span{\r\n                             display:inline-block;\r\n                             width:50%;\r\n                             line-height: 35px;\r\n                             &:first-child{\r\n                                 text-align: right;\r\n                             }\r\n                             &:last-child{\r\n                                 text-align: left;\r\n                                 padding-left: 20px;\r\n                             }\r\n                         }\r\n                         &:last-child{\r\n                             color: #333;\r\n                             padding: 20px 0;\r\n                             .font-black{\r\n                                 font-weight: 700;\r\n                             }\r\n                             .font-red{\r\n                                 color: #FF0000;\r\n                                 font-size: 20px;\r\n                             }\r\n                         }\r\n                     }\r\n                 }\r\n\r\n             }\r\n         }\r\n         .bottom-btns{\r\n             padding: 20px;\r\n             background: #fff;\r\n             border-top: 1px solid #eee;\r\n             text-align: right;\r\n             button{\r\n                 width: 100px;\r\n             }\r\n         }\r\n         .error {\r\n             position: absolute;\r\n             z-index: 200;\r\n             top: 0;\r\n             left: 0;\r\n             width: 100%;\r\n             height: 100%;\r\n             background: #FFFFFF;\r\n             overflow: hidden;\r\n\r\n             .error-tips {\r\n                 position: absolute;\r\n                 top: 50%;\r\n                 left: 50%;\r\n                 width: 320px;\r\n                 transform: translate(-50%, -50%);\r\n             }\r\n         }\r\n     }\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./reservationInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./reservationInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reservationInfo.vue?vue&type=template&id=49c1936e&scoped=true&\"\nimport script from \"./reservationInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./reservationInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reservationInfo.vue?vue&type=style&index=0&id=49c1936e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49c1936e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./reservationInfo.vue?vue&type=style&index=0&id=49c1936e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./reservationInfo.vue?vue&type=style&index=0&id=49c1936e&lang=scss&scoped=true&\""],"sourceRoot":""}