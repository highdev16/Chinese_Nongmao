(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10a107ba"],{1185:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"order"},[a("div",{staticClass:"order-head"},[a("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:e.search,size:"small"}},[e.$route.params.hasOwnProperty("type")&&"afterSale"===e.$route.params.type?a("el-form-item",{staticClass:"form-item"},[a("el-select",{staticClass:"form-select",on:{change:e.doSearch},model:{value:e.search.afterSaleStatus,callback:function(t){e.$set(e.search,"afterSaleStatus",t)},expression:"search.afterSaleStatus"}},e._l(e.orderTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.$route.params.hasOwnProperty("type")&&"needPay"!==e.$route.params.type&&"needReceipt"!==e.$route.params.type?a("el-form-item",{staticClass:"form-item"},[a("el-select",{staticClass:"form-select",on:{change:e.doSearch},model:{value:e.search.timeScreening,callback:function(t){e.$set(e.search,"timeScreening",t)},expression:"search.timeScreening"}},e._l(e.orderTimeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),a("el-form-item",{staticClass:"form-item"},[a("el-input",{staticClass:"form-input",attrs:{placeholder:e.$L("搜索：产品名称/订单号")},on:{change:e.doSearch},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1)],1)],1),a("order-list",{attrs:{"order-list":e.orderList&&e.orderList.hasOwnProperty("list")?e.orderList.list:[]},on:{reloadData:e.reloadData}}),e.orderList&&e.orderList.hasOwnProperty("list")&&e.orderList.list.length>0?a("el-pagination",{staticClass:"list-pages",attrs:{background:!0,"current-page":e.nowPage,"page-size":e.pageNum,layout:"prev, pager, next",total:e.orderList.allNum},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}):e._e()],1)},s=[],n=(a("c0c3"),a("676c")),i={name:"order",components:{orderList:n["a"]},data:function(){var e=localStorage.getItem("uc_page_size");return e?(e=parseInt(e),isNaN(e)&&(e=20)):e=20,{loading:!0,orderTypeList:[{value:0,label:this.$L("全部状态")},{value:1,label:this.$L("退款中")},{value:2,label:this.$L("退款成功")},{value:3,label:this.$L("退款失败")}],orderTimeList:[{value:"all",label:this.$L("全部时间")},{value:"seven",label:this.$L("近7天订单")},{value:"thirty",label:this.$L("近30天订单")},{value:"halfYear",label:this.$L("近半年订单")},{value:"year",label:this.$L("近1年订单")},{value:"yearAgo",label:this.$L("1年以前订单")}],pageNum:e,nowPage:1,search:{afterSaleStatus:0,timeScreening:"all",keyword:""},orderList:{}}},beforeRouteUpdate:function(e,t,a){this.nowPage=1,this.search={afterSaleStatus:0,timeScreening:"all",keyword:""},this.getData(e.params.hasOwnProperty("type")?e.params.type:"all"),a()},created:function(){this.getData(this.$route.params.hasOwnProperty("type")?this.$route.params.type:"all")},methods:{reloadData:function(){this.getData(this.$route.params.hasOwnProperty("type")?this.$route.params.type:"all")},sizeChange:function(e){this.pageNum=e,localStorage.setItem("uc_page_size",e),this.getData(this.$route.params.hasOwnProperty("type")?this.$route.params.type:"all")},currentChange:function(e){this.nowPage=e,this.getData(this.$route.params.hasOwnProperty("type")?this.$route.params.type:"all")},doSearch:function(){this.getData(this.$route.params.hasOwnProperty("type")?this.$route.params.type:"all")},getData:function(e){var t=this;t.loading=!0;var a={type:e,keyword:t.search.keyword,p:t.nowPage,num:t.pageNum,afterSaleStatus:t.search.afterSaleStatus,timeScreening:t.search.timeScreening};t.$api("getOrderList",a,(function(e){1===e.flag?(t.orderList=e.data,t.loading=!1):-1===e.flag?t.$confirm(t.$L("请重新登录"),t.$L("登录超时"),{confirmButtonText:t.$L("重新登录"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.$router.push({name:"login",query:{redirect:t.$route.fullPath}})})).catch((function(e){t.$gotoWebHome()})):t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$gotoWebHome()}))}),(function(e){t.$confirm(t.$L("数据加载失败"),t.$L("出错了"),{confirmButtonText:t.$L("点击重试"),cancelButtonText:t.$L("返回首页"),type:"error",distinguishCancelAndClose:!0}).then((function(){t.getData()})).catch((function(e){t.$gotoWebHome()}))}))}}},o=i,l=(a("f87e"),a("4023")),c=Object(l["a"])(o,r,s,!1,null,"a1c26a42",null);t["default"]=c.exports},"3bcf":function(e,t,a){},8704:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},c0c3:function(e,t,a){"use strict";var r=a("69b3"),s=a("8704"),n=a("7108");a("0aed")("search",1,(function(e,t,a,i){return[function(a){var r=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,r):new RegExp(a)[t](String(r))},function(e){var t=i(a,e,this);if(t.done)return t.value;var o=r(e),l=String(this),c=o.lastIndex;s(c,0)||(o.lastIndex=0);var u=n(o,l);return s(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},f87e:function(e,t,a){"use strict";var r=a("3bcf"),s=a.n(r);s.a}}]);
//# sourceMappingURL=chunk-10a107ba.814aeb06.js.map